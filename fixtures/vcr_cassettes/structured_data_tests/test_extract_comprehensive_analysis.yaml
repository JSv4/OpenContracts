interactions:
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on document ''Test Doc'' (ID: 1).\n\nThis document is described
      as:\n`USC Title 1 - Chapter 1`\n\n**Available Tools:**\nYou have access to a
      comprehensive set of tools for document analysis:\n\n1. **Vector Search**: A
      sophisticated semantic search engine that finds text passages similar to your
      queries.\n2. **Document Summary Access**: Tools to load and analyze the document''s
      markdown summary, including:\n   - Loading full or truncated summary content\n   -
      Calculating token lengths for context management\n3. **Notes Analysis**: Tools
      to retrieve and examine notes attached to this document:\n   - Listing all notes
      with metadata\n   - Accessing specific note content\n   - Calculating note token
      lengths\n\n**Important**: Always check what tools are available to you, as additional
      specialized tools may be provided dynamically beyond the core set described
      above. Use the appropriate tools to gather information before answering.\n\n**Guidelines:**\n-
      Prioritize information retrieved directly from the document using these tools\n-
      We intentionally did not give you the entire document initially. \n  Try doing
      some vector search to get more information initially and then iteratively \n  identifying
      which parts of the document to review.  \n- Do not rely solely on the summary
      or your general knowledge\n- Use multiple tools when necessary for comprehensive
      answers\n- Present your findings in clear, helpful markdown format\n- Avoid
      repeating instructions or disclaimers in your responses"},{"role":"user","content":"Provide
      a comprehensive analysis of this contract."}],"model":"gpt-4o-mini","stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"final_result","description":"Comprehensive
      contract analysis results.","parameters":{"properties":{"title":{"description":"Contract
      title or type","type":"string"},"parties":{"description":"All parties to the
      contract","items":{"$ref":"#/$defs/ContractParty"},"type":"array"},"total_value":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Total
      contract value in dollars"},"term_months":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Contract
      term in months"},"governing_law":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Governing
      law jurisdiction"},"key_obligations":{"description":"Key obligations for each
      party","items":{"type":"string"},"type":"array"},"risk_factors":{"description":"Identified
      risk factors","items":{"type":"string"},"type":"array"}},"required":["title","parties","key_obligations"],"type":"object","$defs":{"ContractParty":{"description":"A
      party to a contract.","properties":{"name":{"description":"Full legal name","type":"string"},"role":{"description":"Role
      in contract (e.g., ''Buyer'', ''Seller'', ''Service Provider'')","type":"string"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Business
      address if mentioned"}},"required":["name","role"],"type":"object"}}}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '3114'
      content-type:
      - application/json
      cookie:
      - __cf_bm=0Ea.z3BX0CBrZL.OXDWb0vOLxvzEIYMFHnyDW6SEKqE-1751723136-1.0.1.1-TEZLlYj3eKhq9dnY9LqQP7gLLGHpmOc4KbGeBKioVsQPCz6gw7ruRvQjHYh8kNwVyrZnQC6vtEQMglU9LrMCWTpBZPkw2ZaYT5RWOS1Ni0g;
        _cfuvid=I4jOcaxaCbrHDNI7susMuLCMENIMfuZ5cqfibCXYs84-1751723136772-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - pydantic-ai/0.2.16
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '1'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.11
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFTfb9s4DH7PXyHo2Tkk6Y9sedu6rsvDHQ7b9VB0LgxGom2usmRIdNou
        yP9+kJzGbtcD5gfD5qeP/EiR3E2EkKTlSkhVA6umNdOP7eO/N+H65+Nf69t7+mSvPl/drk/ay5m7
        /rqWWWS4zQ9U/Mz6Q7mmNcjkbA8rj8AYvc6XZ/Pl4mS+PEtA4zSaSKtanp66aUOWpovZ4nQ6W07n
        7w7s2pHCIFfi+0QIIXbpHXVajY9yJWbZs6XBEKBCuToeEkJ6Z6JFQggUGCzLbACVs4w2SredMSOA
        nTOFAmOGwP2zG30PxQJjipsft/OHz1/en3xY31R4jl/o7EOzri9H8XrXT20SVHZWHYs0wo/21atg
        QkgLTc8lC6bwGDrDr/hCSPBV16DlqF3ucsnEBnO5yuX1twvxT/wTczEVFzW0jF7Mc5nlsgXPhCGX
        q++7PEXqKZYYtfjGwBHM8lTRBF25LXpLthIfnX7K5T4bE9dW05Z0B+YV7YKYfqINAqwWXzGQjlpz
        ub/LcnmPT4XbGKog1iCpyeVlYNgYCnWMZeChp3qsOtMfE1wDiyrpEVyjsMme4l7a0PlIjHZPVc09
        vfW0JYMVBuFKoQ6iEuVPIMtAKTXnNfoDwW1JR1vbbQwpEdBvY2/mMir3FO6LEhQ7f5B9UYON7skK
        gxWFXmyvtYlCBJQlKh6repF7lsu/XWxQAiM0Bag8YrpZsUF+QLSHnKOojdOEvZMhmbu9fNEd+8lb
        33ejzvdYdgHMryMB1jrulcWZuDsg++P4GVe13m3CK2psVgp14RFC6urxcE2ehSQJsnsxv7L1rmm5
        YHePKejp+7Peqxx2zIDOZ8sDyo7BDMD5bJG94bDQyEBpwo9LRYGqUQ/UYblAp8mNgMko+V/lvOW7
        LwDZ6nfcD4BS2DLqovWoSb1MeTjmMe7g/zt2LHMSLA+NWzChjxeisYTnTSLDU2BsipJshb71lNaj
        LNvifAGLE3g3x1JO9pP/AAAA//8DALXjW3EsBgAA
    headers:
      CF-RAY:
      - 95a74eb27f0967aa-DFW
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Jul 2025 13:46:17 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '2005'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '2012'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999584'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 6ms
      x-request-id:
      - req_767f7ef93173b5c3daadb42e2c68026a
    status:
      code: 200
      message: OK
version: 1
