interactions:
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on document ''Test Doc'' (ID: 1).\n\nThis document is described
      as:\n`USC Title 1 - Chapter 1`\n\n**Available Tools:**\nYou have access to a
      comprehensive set of tools for document analysis:\n\n1. **Vector Search**: A
      sophisticated semantic search engine that finds text passages similar to your
      queries.\n2. **Document Summary Access**: Tools to load and analyze the document''s
      markdown summary, including:\n   - Loading full or truncated summary content\n   -
      Calculating token lengths for context management\n3. **Notes Analysis**: Tools
      to retrieve and examine notes attached to this document:\n   - Listing all notes
      with metadata\n   - Accessing specific note content\n   - Calculating note token
      lengths\n\n**Important**: Always check what tools are available to you, as additional
      specialized tools may be provided dynamically beyond the core set described
      above. Use the appropriate tools to gather information before answering.\n\n**Guidelines:**\n-
      Prioritize information retrieved directly from the document using these tools\n-
      We intentionally did not give you the entire document initially. \n  Try doing
      some vector search to get more information initially and then iteratively \n  identifying
      which parts of the document to review.  \n- Do not rely solely on the summary
      or your general knowledge\n- Use multiple tools when necessary for comprehensive
      answers\n- Present your findings in clear, helpful markdown format\n- Avoid
      repeating instructions or disclaimers in your responses"},{"role":"user","content":"What
      is the document about?"}],"model":"gpt-4o-mini","stream":false}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1764'
      content-type:
      - application/json
      cookie:
      - __cf_bm=0Ea.z3BX0CBrZL.OXDWb0vOLxvzEIYMFHnyDW6SEKqE-1751723136-1.0.1.1-TEZLlYj3eKhq9dnY9LqQP7gLLGHpmOc4KbGeBKioVsQPCz6gw7ruRvQjHYh8kNwVyrZnQC6vtEQMglU9LrMCWTpBZPkw2ZaYT5RWOS1Ni0g;
        _cfuvid=I4jOcaxaCbrHDNI7susMuLCMENIMfuZ5cqfibCXYs84-1751723136772-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - pydantic-ai/0.2.16
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '1'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.11
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFNNTxsxEL3nV4x86SWJkg0lITfgUNFDpaoUCRG0mtizWYPX49qzAYT4
        75U3gQ0tlXrxwW/em4838zwAUNaoJShdo+gmuNFZeLw+PbuaPF6bCV99vTv9Zr//OlkUdF99adUw
        M3h9R1peWWPNTXAklv0O1pFQKKtO55+n82I2my06oGFDLtM2QUZHPGqst6NiUhyNJvPRdLFn12w1
        JbWEmwEAwHP35jq9oUe1hMnw9aehlHBDavkWBKAiu/yjMCWbBL2oYQ9q9kK+K/3ik3OQBKPA+gkC
        xYpjY/0GELakhSMkwqhrEIbKegORHG3RCwTs0iaQGgUMJR3tmkBqAt5SROdgnwfQGwhtDJwIuOpC
        DOu2ydhK/fxxDpdWHMEURnBeYxCKMB2vFFzWNsGDdQ5qcgEaghB5aw0BgiFB68h02baWHsaw8it/
        4a1YlNxCzvO+Cc8P48NBRKrahNkM3zp3AKD3LJjN7Cy43SMvb0N3vAmR1+kPqqqst6kuI2Finwec
        hIPq0JcBwG1nbvvOLxUiN0FK4Xvq0s2K+U5P9TvVo0cne1BY0B2w5sfDD/TK3ZzSwXoojbom01P7
        XcLWWD4ABgdd/13NR9q7zq3f/I98D2hNQciUIZKx+n3HfVikfHL/CnubclewSnktNJViKWYnDFXY
        ut0hqPSUhJqysn5DMUS7u4YqlMcFFjNcTKlSg5fBbwAAAP//AwCMmqzeGwQAAA==
    headers:
      CF-RAY:
      - 95a752b19c3ae7b7-DFW
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Jul 2025 13:48:59 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '951'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '956'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999590'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 6ms
      x-request-id:
      - req_b413ab5d0fc93d33ebfa77f32ba0cf55
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on document ''Test Doc'' (ID: 1).\n\nThis document is described
      as:\n`USC Title 1 - Chapter 1`\n\n**Available Tools:**\nYou have access to a
      comprehensive set of tools for document analysis:\n\n1. **Vector Search**: A
      sophisticated semantic search engine that finds text passages similar to your
      queries.\n2. **Document Summary Access**: Tools to load and analyze the document''s
      markdown summary, including:\n   - Loading full or truncated summary content\n   -
      Calculating token lengths for context management\n3. **Notes Analysis**: Tools
      to retrieve and examine notes attached to this document:\n   - Listing all notes
      with metadata\n   - Accessing specific note content\n   - Calculating note token
      lengths\n\n**Important**: Always check what tools are available to you, as additional
      specialized tools may be provided dynamically beyond the core set described
      above. Use the appropriate tools to gather information before answering.\n\n**Guidelines:**\n-
      Prioritize information retrieved directly from the document using these tools\n-
      We intentionally did not give you the entire document initially. \n  Try doing
      some vector search to get more information initially and then iteratively \n  identifying
      which parts of the document to review.  \n- Do not rely solely on the summary
      or your general knowledge\n- Use multiple tools when necessary for comprehensive
      answers\n- Present your findings in clear, helpful markdown format\n- Avoid
      repeating instructions or disclaimers in your responses"},{"role":"user","content":"What
      was my previous question?"}],"model":"gpt-4o-mini","stream":false}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1767'
      content-type:
      - application/json
      cookie:
      - __cf_bm=0Ea.z3BX0CBrZL.OXDWb0vOLxvzEIYMFHnyDW6SEKqE-1751723136-1.0.1.1-TEZLlYj3eKhq9dnY9LqQP7gLLGHpmOc4KbGeBKioVsQPCz6gw7ruRvQjHYh8kNwVyrZnQC6vtEQMglU9LrMCWTpBZPkw2ZaYT5RWOS1Ni0g;
        _cfuvid=I4jOcaxaCbrHDNI7susMuLCMENIMfuZ5cqfibCXYs84-1751723136772-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - pydantic-ai/0.2.16
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.11
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFNNj9owEL3nV0x9JisIy0K5lRu39lKpqlbRYE8SL47HtR26aMV/r5yw
        JPRD6iWHefNm3rznvGUAQiuxBSEbjLJ1Jt+512+7hVofn6rVzs0VfdLHL183dr0x+xcxSww+vJCM
        76wHya0zFDXbAZaeMFKaulivFutiuVx+7IGWFZlEq13MHzlvtdV5MS8e8/k6X2yu7Ia1pCC28D0D
        AHjrv0mnVfQqtjCfvVdaCgFrEttbE4DwbFJFYAg6RLRRzEZQso1ke+l7kJ33ZKM5g2KwHKHBE0Fs
        CCQ6PGij4xkigyeJxoDzdNLcBfjRUUjXBmAPku2JfMC+8ACfDWEgcJ5PWhGcufO3fsAatZ0BWgV7
        +KmNSYvbMxwoxLRokJxIH6aiPVVdwGSc7YyZAGgtx2Fzsuv5ilxuBhmunedD+I0qKm11aEpPGNgm
        M0JkJ3r0kgE890F0d94K57l1sYx8pH7dslgP88SY/wS9piQiRzST+uqddTevVBRRmzCJUkiUDamR
        OuaOndI8AbLJ1X+q+dvs4XJt6/8ZPwJSkoukSudJaXl/8djmKf0e/2q7udwLFoH8SUsqoyafklBU
        YWeGRyvCOURqy0rbmrzzeni5lSufCiyWuFlQJbJL9gsAAP//AwBZxG8hxwMAAA==
    headers:
      CF-RAY:
      - 95a752b7eb3ee7b7-DFW
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Jul 2025 13:49:00 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '682'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '688'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999588'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 6ms
      x-request-id:
      - req_bb041467861922f9510ed8bf5faa12a4
    status:
      code: 200
      message: OK
version: 1
