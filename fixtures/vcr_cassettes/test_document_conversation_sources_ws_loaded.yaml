interactions:
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on the provided document: ''Test Doc'' (ID: 1).\n\nThis document
      is described as:\n`USC Title 1 - Chapter 1`\n\nWhile a summary may be available,
      it''s crucial to leverage all your tools for a comprehensive understanding.
      You have access to a sophisticated vector search engine capable of finding semantically
      similar text to answer queries, alongside other specialized tools.\n\nAlways
      prioritize information retrieved directly from the document using these tools.
      Do not rely solely on the summary or your general knowledge. Strive to provide
      answers grounded in the document''s content, presented in clear and helpful
      markdown. Avoid repeating instructions or disclaimers."},{"role":"user","content":"Regarding
      US Code Title 1, what is the rule of construction for ''words importing the
      masculine gender''?"}],"model":"gpt-4o-mini","stream":true,"temperature":0.7,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"doc_engine","description":"Provides
      detailed annotations and text from within the ''Test Doc'' document.","parameters":{"properties":{"input":{"title":"Input","type":"string"}},"required":["input"],"type":"object"}}},{"type":"function","function":{"name":"load_document_md_summary","description":"load_document_md_summary(document_id:
      int, truncate_length: Optional[int] = None, from_start: bool = True) -> str\n\n    Load
      the content of a Document''s md_summary_file field.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        truncate_length: Optional number
      of characters to truncate. If provided,\n                        returns only
      that many characters\n        from_start: If True, return from the start up
      to truncate_length.\n                   Otherwise, return from the end\n\n    Returns:\n        A
      string containing the content of the md_summary_file (possibly truncated)\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"truncate_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Truncate
      Length"},"from_start":{"default":true,"title":"From Start","type":"boolean"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_md_summary_token_length","description":"get_md_summary_token_length(document_id:
      int) -> int\n\n    Calculate the approximate token length of a Document''s md_summary_file.\n    Uses
      a naive whitespace-based split for tokenization.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n\n    Returns:\n        An integer representing
      the approximate token count of the md_summary_file\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_notes_for_document_corpus","description":"get_notes_for_document_corpus(document_id:
      int, corpus_id: Optional[int] = None) -> list[dict[str, typing.Any]]\n\n    Retrieve
      all Note objects for a given document and (optionally) a specific corpus.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        corpus_id: The primary key (ID)
      of the Corpus, or None if unspecified\n\n    Returns:\n        A list of dictionaries,
      each containing Note data (content truncated to 512 chars):\n        [\n            {\n                \"id\":
      <note_id>,\n                \"title\": <title>,\n                \"content\":
      <content>,\n                \"creator_id\": <creator_id>,\n                \"created\":
      <created_datetime_iso>,\n                \"modified\": <modified_datetime_iso>,\n            },\n            ...\n        ]\n\n    Raises:\n        ValueError:
      If document doesn''t exist\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"corpus_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Corpus
      Id"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_note_content_token_length","description":"get_note_content_token_length(note_id:
      int) -> int\n\n    Calculate the approximate token length of a Note''s content
      using naive whitespace-based split.\n\n    Args:\n        note_id: The primary
      key (ID) of the Note\n\n    Returns:\n        An integer representing the approximate
      token count of the note''s content\n\n    Raises:\n        ValueError: If note
      doesn''t exist\n    ","parameters":{"properties":{"note_id":{"title":"Note Id","type":"integer"}},"required":["note_id"],"type":"object"}}},{"type":"function","function":{"name":"get_partial_note_content","description":"get_partial_note_content(note_id:
      int, start: int = 0, end: int = 500) -> str\n\n    Retrieve a substring of the
      note''s content from index ''start'' to index ''end''.\n\n    Args:\n        note_id:
      The primary key (ID) of the Note\n        start: The starting position for extraction\n        end:
      The position at which to stop before extraction (non-inclusive)\n\n    Returns:\n        A
      string representing the specified portion of the note''s content\n\n    Raises:\n        ValueError:
      If note doesn''t exist or invalid start/end indices\n    ","parameters":{"properties":{"note_id":{"title":"Note
      Id","type":"integer"},"start":{"default":0,"title":"Start","type":"integer"},"end":{"default":500,"title":"End","type":"integer"}},"required":["note_id"],"type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '5696'
      content-type:
      - application/json
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.81.0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '60.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.10
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: 'data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yQX9CDAnMAZhjcBf29QTJS8M","type":"function","function":{"name":"doc_engine","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"input"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"words"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        importing"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        the"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        masculine"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        gender"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0RAY90v8gA86V6P2PCg4a8KSfH","object":"chat.completion.chunk","created":1748838247,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_62a23a81ef","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}]}


        data: [DONE]


        '
    headers:
      CF-RAY:
      - 94942de84eea7bb2-ATL
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Mon, 02 Jun 2025 04:24:08 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=Bmd06HwyDvPorylLQOTsrjh41OJn0CbRkQbgKNu3vCg-1748838248-1.0.1.1-SEmeRTI.ikOAFWzGTtm79CcmOVVv3dWM3Q9Lwl_ZNVReUx1ViWCXe56W8HAoESIFUuzObQiZDijpCCtuYuKxLX_em5LRtEoSH83xFESdpK4;
        path=/; expires=Mon, 02-Jun-25 04:54:08 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=Oj9gDbK3VpwTVDxB7beZCAUX4mG.0nivwXub1miuKQs-1748838248291-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '483'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '488'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999772'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 3ms
      x-request-id:
      - req_ec3033d44973585de9b4aa8b7a78576a
    status:
      code: 200
      message: OK
- request:
    body: '{"text": "words importing the masculine gender"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '48'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
      X-API-Key:
      - abc123
    method: POST
    uri: http://vector-embedder:8000/embeddings
  response:
    body:
      string: '{"embeddings":[[0.013249900192022324,-0.011867810040712357,0.0030817678198218346,-0.002889943541958928,-0.09183814376592636,-0.01494270283728838,0.0010076649487018585,-0.09308014810085297,-0.019820239394903183,0.04094169661402702,0.09929979592561722,-0.047125715762376785,0.021463224664330482,0.026480332016944885,0.008618348278105259,0.048305124044418335,-0.09792329370975494,0.007575917523354292,0.032732926309108734,0.04444636031985283,-0.009051868692040443,-0.11090236902236938,-0.018854834139347076,-0.07555270940065384,-0.030855318531394005,-0.06923668831586838,-0.01981770247220993,-0.010639051906764507,0.01854490116238594,0.012238094583153725,-0.07624810934066772,0.0402970165014267,0.11126928776502609,0.04999329149723053,-0.0308267530053854,0.07186499983072281,0.0010380021994933486,0.012260518968105316,0.01775067113339901,0.059144582599401474,-0.049857161939144135,-0.1018294021487236,0.010811354033648968,0.07235915958881378,0.06607366353273392,0.028694214299321175,-0.0013079778291285038,0.07882265001535416,-0.017057212069630623,0.0073090833611786366,-0.039242517203092575,-0.03161276504397392,-0.12197339534759521,0.1652909815311432,-0.04120934382081032,0.01819404400885105,0.05177207291126251,-0.050241947174072266,-0.04424266144633293,-0.034466084092855453,-0.0648035928606987,-0.013966459780931473,0.046208012849092484,0.04657759144902229,0.02244962751865387,-0.09633687138557434,-0.026911908760666847,0.002215114189311862,-0.06670316308736801,0.048353735357522964,0.03439312055706978,0.04629788175225258,-0.093358613550663,0.02312523126602173,0.040600232779979706,0.07350026816129684,0.06087286397814751,-0.05409758538007736,-0.010657438077032566,-0.06330085545778275,-0.02169889770448208,-0.035450395196676254,0.07936565577983856,0.0732826292514801,0.007200459484010935,-0.024755606427788734,-0.016906771808862686,-0.027143996208906174,-0.07985686510801315,0.07776720076799393,-0.15154102444648743,-0.0715620368719101,0.09469084441661835,0.005446059629321098,-0.0047456976026296616,0.010891549289226532,0.043465755879879,0.02483345754444599,0.01185816340148449,0.006731071975082159,-0.0034735468216240406,0.03201624006032944,-0.052955880761146545,0.004497697576880455,-0.04113902896642685,-0.01791946217417717,-0.04085738956928253,-0.06776081770658493,-0.026798684149980545,-0.06295643001794815,-0.08112742006778717,-0.05141163617372513,-0.030503904446959496,-0.04767821356654167,0.06724224984645844,-0.0027770281303673983,0.00910151656717062,0.026352079585194588,0.06857100129127502,0.06288185715675354,-0.08835411071777344,-0.0007028357358649373,0.006187554448843002,-0.002913665259256959,0.020974652841687202,0.01527743972837925,-0.027476424351334572,1.1120616663863788e-30,-0.0058850194327533245,0.021335316821932793,0.029960371553897858,0.05461553856730461,-0.004376515280455351,0.02969064563512802,0.0762043446302414,-0.12621015310287476,0.005083980038762093,-0.07080455869436264,0.008714480325579643,-0.007628648076206446,-0.11495121568441391,0.0366576611995697,0.06518828868865967,0.03147871792316437,0.05483259633183479,0.02552080899477005,-0.027472665533423424,-0.0009935660054907203,0.07306376844644547,0.05500639230012894,-0.005254864227026701,0.005068828817456961,-0.03678402304649353,-0.027050474658608437,0.028815042227506638,-0.06106232851743698,0.0328400544822216,-0.013841288164258003,-0.0067795091308653355,-0.03296735882759094,0.020475637167692184,0.021766453981399536,0.04830126091837883,-0.06546597927808762,0.02289446070790291,-0.016643941402435303,0.018481943756341934,0.0903758630156517,0.0046913656406104565,-0.014022594317793846,0.053332023322582245,0.0006172352586872876,-0.01870664581656456,0.06528253108263016,0.034596215933561325,-0.01950659789144993,-0.04027446359395981,0.05038107559084892,-0.09022515267133713,0.04264131933450699,0.061599694192409515,0.008849764242768288,-0.06549423187971115,0.0021115855779498816,0.026447070762515068,0.018371760845184326,-0.06161164119839668,-0.011673967353999615,0.07470332831144333,0.02737780101597309,0.13928939402103424,0.061550140380859375,0.08824905753135681,-0.08563818037509918,-0.01843128353357315,-0.0023047872819006443,0.029868757352232933,0.09869009256362915,-0.08564560115337372,-0.02832583710551262,-0.031557898968458176,0.06131501495838165,0.014691788703203201,0.04251947999000549,0.026911942288279533,-0.06831302493810654,0.01949690654873848,-0.12284549325704575,-0.05233682319521904,0.03647562861442566,-0.08009757846593857,0.00276575586758554,-0.0453185997903347,0.02058912254869938,0.01631494052708149,-0.05559106543660164,0.14852097630500793,0.016121862456202507,-0.05535408854484558,0.020456654950976372,0.007777265273034573,-0.05138738453388214,-0.0595368966460228,-2.1222141747585337e-33,-0.017409266903996468,-0.06157802417874336,0.03640659525990486,0.01188776083290577,-0.0493939109146595,-0.017218833789229393,0.05553138628602028,0.09136010706424713,0.11986999958753586,0.04711860790848732,-0.004223914816975594,0.015203697606921196,-0.03657981753349304,0.02408784069120884,0.007325842976570129,-0.04640990495681763,-0.0033052547369152308,0.023416122421622276,0.000426145939854905,0.12777003645896912,-0.07564982026815414,0.06313639879226685,0.001926723401993513,-0.051162153482437134,0.002717751543968916,0.03378134220838547,0.03788173571228981,0.014145676046609879,-0.007040797732770443,0.06559540331363678,0.00993406679481268,0.04733738675713539,-0.06344151496887207,0.0658491775393486,0.06639394909143448,-0.006195961497724056,-0.03583565726876259,-0.0013404920464381576,0.05176333710551262,0.008880892768502235,-0.015245603397488594,-0.015213903971016407,-0.051916997879743576,-0.015587878413498402,0.031765032559633255,-0.024114536121487617,-0.14753344655036926,0.008238773792982101,0.0616922602057457,0.015856962651014328,-0.017938809469342232,0.04145896062254906,0.010786538012325764,-0.0648193284869194,0.022451363503932953,-0.08046247810125351,-0.03423110768198967,-0.0357385091483593,-0.042217228561639786,0.08305040746927261,-0.0431344211101532,0.035915225744247437,0.01143971923738718,-0.01883746311068535,-0.08485997468233109,-0.04833867400884628,0.01470127422362566,-0.0429815948009491,-0.0035964350681751966,-0.006964351981878281,0.08912873268127441,-0.024998653680086136,0.04372815042734146,0.015838919207453728,-0.027011491358280182,-0.05196748673915863,0.04731706902384758,0.028708022087812424,0.06541486829519272,-0.10159645229578018,-0.03613948076963425,-0.05505607649683952,0.04739812761545181,0.012189478613436222,-0.03641742840409279,0.015804804861545563,0.015413466840982437,0.09975064545869827,0.06703163683414459,-0.05767618492245674,0.006412866059690714,0.0701691210269928,0.0036785348784178495,0.0053910259157419205,-0.004916770849376917,-4.838742130245492e-33,-0.0007674022344872355,-0.024130037054419518,0.02587699703872204,-0.009633611887693405,0.043634142726659775,-0.002475704764947295,-0.05309966206550598,-0.07387110590934753,0.04632270708680153,0.030758939683437347,-0.0264211967587471,0.03836365044116974,0.05258234217762947,-0.04523647576570511,-0.031496647745370865,0.05458560213446617,0.051730457693338394,-0.02461601234972477,0.003313609631732106,-0.05170706659555435,0.02796877548098564,-0.01425256673246622,-0.025891778990626335,0.060458745807409286,-0.05834709852933884,0.031387317925691605,0.005480974912643433,0.006228322628885508,-0.08429321646690369,-0.042227525264024734,0.06713910400867462,0.049784377217292786,-0.056757763028144836,-0.09331747889518738,0.023232117295265198,0.07541689276695251,0.02018413320183754,-0.028960594907402992,-0.02343943901360035,-0.03742305934429169,0.061997704207897186,-0.029966766014695168,-0.06719624996185303,-0.0534370020031929,0.04083864763379097,0.032020993530750275,0.03356921300292015,-0.02927234396338463,-0.021595502272248268,0.08416932076215744,0.03153405338525772,0.03168464079499245,0.012690446339547634,0.013000790029764175,0.03877272456884384,-0.014254470355808735,-0.053891561925411224,0.002566720824688673,-0.028129054233431816,-0.004890475422143936,0.038625750690698624,-0.07005175948143005,0.11824093014001846,-0.0702713280916214]]}

        '
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '8052'
      Content-Type:
      - application/json
      Date:
      - Mon, 02 Jun 2025 04:24:08 GMT
      Server:
      - gunicorn
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on the provided document: ''Test Doc'' (ID: 1).\n\nThis document
      is described as:\n`USC Title 1 - Chapter 1`\n\nWhile a summary may be available,
      it''s crucial to leverage all your tools for a comprehensive understanding.
      You have access to a sophisticated vector search engine capable of finding semantically
      similar text to answer queries, alongside other specialized tools.\n\nAlways
      prioritize information retrieved directly from the document using these tools.
      Do not rely solely on the summary or your general knowledge. Strive to provide
      answers grounded in the document''s content, presented in clear and helpful
      markdown. Avoid repeating instructions or disclaimers."},{"role":"user","content":"Regarding
      US Code Title 1, what is the rule of construction for ''words importing the
      masculine gender''?"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yQX9CDAnMAZhjcBf29QTJS8M","function":{"arguments":"{\"input\":\"words
      importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yQX9CDAnMAZhjcBf29QTJS8M"}],"model":"gpt-4o-mini","stream":true,"temperature":0.7,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"doc_engine","description":"Provides
      detailed annotations and text from within the ''Test Doc'' document.","parameters":{"properties":{"input":{"title":"Input","type":"string"}},"required":["input"],"type":"object"}}},{"type":"function","function":{"name":"load_document_md_summary","description":"load_document_md_summary(document_id:
      int, truncate_length: Optional[int] = None, from_start: bool = True) -> str\n\n    Load
      the content of a Document''s md_summary_file field.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        truncate_length: Optional number
      of characters to truncate. If provided,\n                        returns only
      that many characters\n        from_start: If True, return from the start up
      to truncate_length.\n                   Otherwise, return from the end\n\n    Returns:\n        A
      string containing the content of the md_summary_file (possibly truncated)\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"truncate_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Truncate
      Length"},"from_start":{"default":true,"title":"From Start","type":"boolean"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_md_summary_token_length","description":"get_md_summary_token_length(document_id:
      int) -> int\n\n    Calculate the approximate token length of a Document''s md_summary_file.\n    Uses
      a naive whitespace-based split for tokenization.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n\n    Returns:\n        An integer representing
      the approximate token count of the md_summary_file\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_notes_for_document_corpus","description":"get_notes_for_document_corpus(document_id:
      int, corpus_id: Optional[int] = None) -> list[dict[str, typing.Any]]\n\n    Retrieve
      all Note objects for a given document and (optionally) a specific corpus.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        corpus_id: The primary key (ID)
      of the Corpus, or None if unspecified\n\n    Returns:\n        A list of dictionaries,
      each containing Note data (content truncated to 512 chars):\n        [\n            {\n                \"id\":
      <note_id>,\n                \"title\": <title>,\n                \"content\":
      <content>,\n                \"creator_id\": <creator_id>,\n                \"created\":
      <created_datetime_iso>,\n                \"modified\": <modified_datetime_iso>,\n            },\n            ...\n        ]\n\n    Raises:\n        ValueError:
      If document doesn''t exist\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"corpus_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Corpus
      Id"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_note_content_token_length","description":"get_note_content_token_length(note_id:
      int) -> int\n\n    Calculate the approximate token length of a Note''s content
      using naive whitespace-based split.\n\n    Args:\n        note_id: The primary
      key (ID) of the Note\n\n    Returns:\n        An integer representing the approximate
      token count of the note''s content\n\n    Raises:\n        ValueError: If note
      doesn''t exist\n    ","parameters":{"properties":{"note_id":{"title":"Note Id","type":"integer"}},"required":["note_id"],"type":"object"}}},{"type":"function","function":{"name":"get_partial_note_content","description":"get_partial_note_content(note_id:
      int, start: int = 0, end: int = 500) -> str\n\n    Retrieve a substring of the
      note''s content from index ''start'' to index ''end''.\n\n    Args:\n        note_id:
      The primary key (ID) of the Note\n        start: The starting position for extraction\n        end:
      The position at which to stop before extraction (non-inclusive)\n\n    Returns:\n        A
      string representing the specified portion of the note''s content\n\n    Raises:\n        ValueError:
      If note doesn''t exist or invalid start/end indices\n    ","parameters":{"properties":{"note_id":{"title":"Note
      Id","type":"integer"},"start":{"default":0,"title":"Start","type":"integer"},"end":{"default":500,"title":"End","type":"integer"}},"required":["note_id"],"type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '6024'
      content-type:
      - application/json
      cookie:
      - __cf_bm=Bmd06HwyDvPorylLQOTsrjh41OJn0CbRkQbgKNu3vCg-1748838248-1.0.1.1-SEmeRTI.ikOAFWzGTtm79CcmOVVv3dWM3Q9Lwl_ZNVReUx1ViWCXe56W8HAoESIFUuzObQiZDijpCCtuYuKxLX_em5LRtEoSH83xFESdpK4;
        _cfuvid=Oj9gDbK3VpwTVDxB7beZCAUX4mG.0nivwXub1miuKQs-1748838248291-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.81.0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '60.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.10
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: 'data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l","type":"function","function":{"name":"doc_engine","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"input"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"mas"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"cul"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ine"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        gender"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0SbZ3TSS6RVwje0v2kcBoI8U6N","object":"chat.completion.chunk","created":1748838248,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}]}


        data: [DONE]


        '
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 94942deddb2b7bb2-ATL
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Mon, 02 Jun 2025 04:24:09 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '483'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '487'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999766'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 3ms
      x-request-id:
      - req_b3f9b4124a1a7b9adaa8b9419d7fe2d9
    status:
      code: 200
      message: OK
- request:
    body: '{"text": "masculine gender"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '28'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
      X-API-Key:
      - abc123
    method: POST
    uri: http://vector-embedder:8000/embeddings
  response:
    body:
      string: '{"embeddings":[[0.03294887766242027,0.015438220463693142,0.006296435371041298,-0.04333353787660599,-0.11568523943424225,-0.03257502242922783,0.018339212983846664,-0.10938800871372223,0.00751236779615283,0.029729744419455528,0.052521053701639175,-0.06132230907678604,-0.057112038135528564,0.0021060474682599306,0.02230733074247837,0.03880263864994049,-0.048802074044942856,-0.02129817195236683,0.07139305770397186,0.08714362978935242,-0.037638574838638306,-0.09543006122112274,-0.01912718452513218,-0.10657729208469391,-0.06032923609018326,-0.13111749291419983,0.04356976971030235,0.03114486113190651,-0.023652657866477966,-0.041581496596336365,-0.042426612228155136,-0.0019523160299286246,0.09974503517150879,-0.015050973743200302,-0.0416245199739933,0.022003287449479103,0.018388796597719193,-0.019914155825972557,-0.01630624756217003,0.09771416336297989,-0.07005657255649567,-0.08902177214622498,0.022937370464205742,0.07824739813804626,0.020663633942604065,0.05100078508257866,-0.02512499690055847,0.0400364063680172,-0.021092813462018967,0.02958075702190399,0.012274032458662987,0.014806699007749557,-0.056797098368406296,0.13860072195529938,-0.008786342106759548,-0.008152591064572334,-0.04004481062293053,-0.056012146174907684,-0.035711098462343216,0.014990430325269699,-0.08071780949831009,0.010912170633673668,0.0013406624784693122,0.053641483187675476,0.07441640645265579,-0.01915305107831955,-0.029898475855588913,-0.08406300842761993,-0.020502405241131783,0.02397262677550316,0.06349392235279083,0.06300466507673264,-0.10553999245166779,0.015162286348640919,0.01923329196870327,0.06230250746011734,0.01371992938220501,-0.026296116411685944,-0.006845950148999691,-0.022223932668566704,-0.014024189673364162,-0.024620192125439644,0.09643419831991196,0.0549149215221405,0.035079244524240494,-0.025895802304148674,-0.01583205722272396,-0.0094671119004488,-0.08403803408145905,0.09200744330883026,-0.13553333282470703,0.02622249349951744,0.061754029244184494,-0.027624264359474182,-0.03210131824016571,0.023765549063682556,0.053860366344451904,0.0006839688867330551,-0.01285255141556263,0.11948953568935394,0.02565092407166958,0.024916570633649826,-0.08552931249141693,0.002339564263820648,-0.027169914916157722,-0.009852755814790726,-0.014954248443245888,-0.04108228161931038,-0.02480573020875454,-0.03833988308906555,-0.07823648303747177,-0.06254877895116806,-0.06417318433523178,-0.044439416378736496,0.09454461932182312,-0.04415654018521309,0.04087194427847862,0.06183885037899017,0.06979889422655106,0.021720537915825844,-0.05648531764745712,-0.02425996959209442,-0.018121076747775078,0.007507780566811562,0.05512651801109314,0.01937684416770935,-0.028849370777606964,1.0969486646562748e-30,0.002814479870721698,-0.03263271227478981,0.058949120342731476,0.0156087102368474,0.030918272212147713,0.01553230732679367,0.08157562464475632,-0.09802423417568207,0.037996355444192886,-0.06085408478975296,0.05978907272219658,-0.03689917176961899,-0.08957941830158234,-0.01133795827627182,0.05397951602935791,0.01666431501507759,0.08055460453033447,-0.001373968319967389,-0.12064645439386368,0.013549994677305222,0.07571829110383987,0.09263010323047638,-0.036425769329071045,0.04143194109201431,0.007166778668761253,-0.033302079886198044,0.03910985216498375,0.022274713963270187,-0.004563739523291588,-0.00654634227976203,-0.029447251930832863,-0.015104267746210098,0.01880616322159767,0.005335245747119188,-0.01510864868760109,-0.08517106622457504,0.005708366632461548,0.0002933948999270797,0.021583277732133865,0.09560726583003998,0.016186796128749847,-0.034937456250190735,0.023002803325653076,0.0038387225940823555,-0.06600340455770493,0.002436343813315034,0.041541337966918945,0.0025599785149097443,-0.03314906731247902,0.014400901272892952,-0.10262028872966766,0.08779475837945938,-0.0121210478246212,0.05642890930175781,0.006423597689718008,-0.025165559723973274,0.0009141717455349863,0.031062334775924683,-0.08966509252786636,0.00985462125390768,0.09715054929256439,0.03010091744363308,0.12572212517261505,-0.0193831454962492,0.015808913856744766,-0.08073913305997849,0.0297462847083807,-0.050501078367233276,0.057519081979990005,0.059818677604198456,-0.06353854387998581,-0.00879592727869749,0.006400535348802805,0.02608397975564003,-0.008206953294575214,0.03350115194916725,0.023631256073713303,-0.052321482449769974,0.03361582010984421,-0.10011664032936096,-0.052947234362363815,0.06601987034082413,-0.04482726380228996,0.023750655353069305,-0.014202700927853584,-0.04071549326181412,0.03742179274559021,0.0033568355720490217,0.08411844074726105,0.016178123652935028,-0.08279228955507278,0.03196883574128151,0.042922984808683395,-0.008280746638774872,-0.05532202869653702,-1.723531306681739e-33,-0.06302870064973831,-0.048251695930957794,0.002839377848431468,-0.008546668104827404,-0.04453188180923462,-0.015947531908750534,0.029496895149350166,0.023637766018509865,0.06291164457798004,0.07388054579496384,0.02334652468562126,0.00029965469730086625,-0.0592057928442955,0.028414001688361168,0.015699777752161026,-0.0005317829200066626,-0.013802043162286282,-0.022715607658028603,-0.018482714891433716,0.1326066255569458,-0.08442209661006927,0.10180573165416718,0.038118064403533936,-0.021314676851034164,-0.030173683539032936,0.008425138890743256,0.07101042568683624,-0.012420081533491611,0.034399986267089844,0.03787403553724289,-0.016496917232871056,0.038006436079740524,-0.018979061394929886,0.04515141621232033,0.07724964618682861,-0.01652262732386589,-0.02379719913005829,0.012283483520150185,0.12008966505527496,0.0588034950196743,0.013202380388975143,0.008925087749958038,-0.011292045004665852,0.0026702091563493013,0.05627292022109032,-0.04143255949020386,-0.06312848627567291,-0.01555111538618803,0.040294453501701355,-0.005973083898425102,-0.08170466125011444,0.009241919033229351,0.011187455616891384,-0.055984754115343094,-0.007716547232121229,-0.09330619126558304,-0.06195243075489998,0.003915838431566954,-0.01116158813238144,0.11723590642213821,-0.04942264407873154,0.031150754541158676,0.04677414149045944,0.01148315705358982,-0.0777565985918045,-0.021671803668141365,0.026058178395032883,-0.0712682232260704,-0.009333325549960136,0.0380810871720314,0.02987411990761757,-0.018213238567113876,0.035970378667116165,0.07522877305746078,0.01645253598690033,-0.0825834572315216,0.03924145549535751,-0.012015067040920258,0.057121641933918,-0.1108810231089592,-0.022603042423725128,0.0008523574797436595,0.015604780055582523,0.01964857615530491,-0.08161530643701553,0.013570106588304043,0.010409518145024776,0.0846182107925415,0.061256058514118195,-0.015080093406140804,0.02950250171124935,0.09195514768362045,-0.06115194037556648,-0.010181733407080173,-0.020198827609419823,-2.854591971042944e-33,0.001772525254637003,-0.024600254371762276,0.014402562752366066,-0.024021683260798454,0.039589185267686844,0.0802757516503334,-0.014112402684986591,-0.10107787698507309,0.025888705626130104,0.040854863822460175,0.02055145800113678,0.019654879346489906,0.048731230199337006,-0.03779520094394684,-0.009677642025053501,-0.006427460350096226,0.019347837194800377,-0.007852509617805481,-0.019370853900909424,-0.07305846363306046,0.03894845023751259,-0.0717657282948494,-0.0650271475315094,0.021965069696307182,-0.05213247984647751,0.014295648783445358,0.0132135059684515,-0.011852174997329712,-0.129774272441864,-0.027477839961647987,0.04920772835612297,0.05945788323879242,-0.04039117693901062,-0.07907211035490036,0.016751911491155624,0.08130864799022675,0.0327741764485836,0.003806039923802018,-0.038973402231931686,-0.049500852823257446,0.07640377432107925,-0.015483742579817772,-0.08967293798923492,-0.04464023560285568,0.0061436425894498825,0.024396611377596855,0.05182414874434471,-0.015872487798333168,-0.0206711757928133,0.11728442460298538,0.003234686329960823,-0.0014283312484622002,0.044281456619501114,0.040417514741420746,0.02455800399184227,-0.00568257924169302,-0.07305535674095154,0.0118439681828022,-0.011326616629958153,0.03881547227501869,0.07159706205129623,-0.04818031191825867,0.04886256903409958,-0.0989115908741951]]}

        '
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '8057'
      Content-Type:
      - application/json
      Date:
      - Mon, 02 Jun 2025 04:24:09 GMT
      Server:
      - gunicorn
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on the provided document: ''Test Doc'' (ID: 1).\n\nThis document
      is described as:\n`USC Title 1 - Chapter 1`\n\nWhile a summary may be available,
      it''s crucial to leverage all your tools for a comprehensive understanding.
      You have access to a sophisticated vector search engine capable of finding semantically
      similar text to answer queries, alongside other specialized tools.\n\nAlways
      prioritize information retrieved directly from the document using these tools.
      Do not rely solely on the summary or your general knowledge. Strive to provide
      answers grounded in the document''s content, presented in clear and helpful
      markdown. Avoid repeating instructions or disclaimers."},{"role":"user","content":"Regarding
      US Code Title 1, what is the rule of construction for ''words importing the
      masculine gender''?"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yQX9CDAnMAZhjcBf29QTJS8M","function":{"arguments":"{\"input\":\"words
      importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yQX9CDAnMAZhjcBf29QTJS8M"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l","function":{"arguments":"{\"input\":\"masculine
      gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l"}],"model":"gpt-4o-mini","stream":true,"temperature":0.7,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"doc_engine","description":"Provides
      detailed annotations and text from within the ''Test Doc'' document.","parameters":{"properties":{"input":{"title":"Input","type":"string"}},"required":["input"],"type":"object"}}},{"type":"function","function":{"name":"load_document_md_summary","description":"load_document_md_summary(document_id:
      int, truncate_length: Optional[int] = None, from_start: bool = True) -> str\n\n    Load
      the content of a Document''s md_summary_file field.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        truncate_length: Optional number
      of characters to truncate. If provided,\n                        returns only
      that many characters\n        from_start: If True, return from the start up
      to truncate_length.\n                   Otherwise, return from the end\n\n    Returns:\n        A
      string containing the content of the md_summary_file (possibly truncated)\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"truncate_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Truncate
      Length"},"from_start":{"default":true,"title":"From Start","type":"boolean"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_md_summary_token_length","description":"get_md_summary_token_length(document_id:
      int) -> int\n\n    Calculate the approximate token length of a Document''s md_summary_file.\n    Uses
      a naive whitespace-based split for tokenization.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n\n    Returns:\n        An integer representing
      the approximate token count of the md_summary_file\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_notes_for_document_corpus","description":"get_notes_for_document_corpus(document_id:
      int, corpus_id: Optional[int] = None) -> list[dict[str, typing.Any]]\n\n    Retrieve
      all Note objects for a given document and (optionally) a specific corpus.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        corpus_id: The primary key (ID)
      of the Corpus, or None if unspecified\n\n    Returns:\n        A list of dictionaries,
      each containing Note data (content truncated to 512 chars):\n        [\n            {\n                \"id\":
      <note_id>,\n                \"title\": <title>,\n                \"content\":
      <content>,\n                \"creator_id\": <creator_id>,\n                \"created\":
      <created_datetime_iso>,\n                \"modified\": <modified_datetime_iso>,\n            },\n            ...\n        ]\n\n    Raises:\n        ValueError:
      If document doesn''t exist\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"corpus_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Corpus
      Id"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_note_content_token_length","description":"get_note_content_token_length(note_id:
      int) -> int\n\n    Calculate the approximate token length of a Note''s content
      using naive whitespace-based split.\n\n    Args:\n        note_id: The primary
      key (ID) of the Note\n\n    Returns:\n        An integer representing the approximate
      token count of the note''s content\n\n    Raises:\n        ValueError: If note
      doesn''t exist\n    ","parameters":{"properties":{"note_id":{"title":"Note Id","type":"integer"}},"required":["note_id"],"type":"object"}}},{"type":"function","function":{"name":"get_partial_note_content","description":"get_partial_note_content(note_id:
      int, start: int = 0, end: int = 500) -> str\n\n    Retrieve a substring of the
      note''s content from index ''start'' to index ''end''.\n\n    Args:\n        note_id:
      The primary key (ID) of the Note\n        start: The starting position for extraction\n        end:
      The position at which to stop before extraction (non-inclusive)\n\n    Returns:\n        A
      string representing the specified portion of the note''s content\n\n    Raises:\n        ValueError:
      If note doesn''t exist or invalid start/end indices\n    ","parameters":{"properties":{"note_id":{"title":"Note
      Id","type":"integer"},"start":{"default":0,"title":"Start","type":"integer"},"end":{"default":500,"title":"End","type":"integer"}},"required":["note_id"],"type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '6332'
      content-type:
      - application/json
      cookie:
      - __cf_bm=Bmd06HwyDvPorylLQOTsrjh41OJn0CbRkQbgKNu3vCg-1748838248-1.0.1.1-SEmeRTI.ikOAFWzGTtm79CcmOVVv3dWM3Q9Lwl_ZNVReUx1ViWCXe56W8HAoESIFUuzObQiZDijpCCtuYuKxLX_em5LRtEoSH83xFESdpK4;
        _cfuvid=Oj9gDbK3VpwTVDxB7beZCAUX4mG.0nivwXub1miuKQs-1748838248291-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.81.0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '60.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.10
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: 'data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_aSUbAp2E8gvSn0wP8uqLlDDi","type":"function","function":{"name":"doc_engine","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"input"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"rule"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        of"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        construction"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        for"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        words"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        importing"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        the"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        masculine"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        gender"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0Tc8WK2cFZzGJQVSxUd1rsiM9p","object":"chat.completion.chunk","created":1748838249,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}]}


        data: [DONE]


        '
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 94942df36fd47bb2-ATL
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Mon, 02 Jun 2025 04:24:10 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '606'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '608'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999761'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 3ms
      x-request-id:
      - req_5bc66bd2402b5597ab423bc221834a51
    status:
      code: 200
      message: OK
- request:
    body: '{"text": "rule of construction for words importing the masculine gender"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
      X-API-Key:
      - abc123
    method: POST
    uri: http://vector-embedder:8000/embeddings
  response:
    body:
      string: '{"embeddings":[[0.01429020706564188,0.022378714755177498,0.05320737510919571,-0.016127878800034523,-0.09601742774248123,-0.011088565923273563,-0.029678570106625557,-0.0896596908569336,0.014551031403243542,0.06114553287625313,0.11347997188568115,-0.04062151908874512,-0.02005651220679283,0.048388443887233734,0.048092328011989594,0.03475945070385933,-0.09908424317836761,-0.008951363153755665,-0.008200009353458881,0.05554717406630516,0.040833838284015656,-0.11290040612220764,-0.008218997158110142,-0.05082904174923897,-0.024345124140381813,-0.07580740004777908,-0.027757832780480385,-0.006810445338487625,0.09005270153284073,0.0014820214128121734,-0.07010790705680847,0.033271610736846924,0.1068325936794281,0.02542342059314251,-0.04462050274014473,0.07197119295597076,0.022777747362852097,-0.014180362224578857,0.0016902893548831344,0.09029147773981094,-0.0379776693880558,-0.07830775529146194,-0.006405096501111984,0.06728405505418777,0.053189657628536224,0.029616620391607285,0.024951599538326263,0.08121036738157272,-0.06341485679149628,0.010835204273462296,-0.02984493598341942,-0.018101735040545464,-0.11323602497577667,0.14612621068954468,-0.05106591433286667,0.005437101237475872,0.029673103243112564,-0.040263768285512924,-0.013338997028768063,-0.039200570434331894,-0.057960376143455505,-0.014029734767973423,0.04060719162225723,0.004470265004783869,0.03704642504453659,-0.06953569501638412,-0.047960299998521805,0.007620357908308506,-0.05132989585399628,0.09615611284971237,0.03548164293169975,0.046054355800151825,-0.10672400891780853,0.0649501234292984,0.022898979485034943,0.09362945705652237,0.07654420286417007,-0.03244347125291824,-0.014955395832657814,-0.09005529433488846,-0.03013390116393566,-0.030884597450494766,0.10570110380649567,0.07531290501356125,0.025908641517162323,-0.007942816242575645,0.002242159564048052,-0.0675983875989914,-0.0795329213142395,0.07653742283582687,-0.11124773323535919,-0.15832993388175964,0.07608489692211151,0.011301606893539429,0.016344912350177765,-0.005608457140624523,-0.015690458938479424,0.008585374802350998,0.024883916601538658,-0.010350791737437248,-0.0030688776168972254,0.01157432235777378,-0.01869715377688408,-0.003059782087802887,-0.04782987758517265,-0.02405156008899212,-0.061163805425167084,-0.06214020773768425,-0.035026755183935165,-0.0405900739133358,-0.03821990638971329,-0.013107651844620705,-0.027875399217009544,-0.036165229976177216,0.024535296484827995,-0.01610482484102249,-0.010867029428482056,0.011038020253181458,0.0944691002368927,0.04126621410250664,-0.05678759887814522,-0.03471284732222557,2.1561772882705554e-05,-0.011402886360883713,-0.015932738780975342,0.001405358430929482,-0.04944617673754692,7.628530927090687e-31,-0.0009907225612550974,-0.01221191231161356,0.010079268366098404,0.0356077216565609,0.003744210349395871,0.04134775698184967,0.07344497740268707,-0.10641539096832275,0.0058586630038917065,-0.05338609218597412,-0.005060160532593727,-0.061076339334249496,-0.1047663688659668,0.029800284653902054,0.07675427198410034,0.019404049962759018,0.054998308420181274,0.0001911955769173801,-0.04428965598344803,0.023481206968426704,0.0865999087691307,0.02272483892738819,-0.006157336290925741,-0.008338894695043564,-0.04861677438020706,-0.03194882348179817,0.03617769107222557,-0.06328871101140976,-0.018363557755947113,-0.0185458455234766,-0.008130875416100025,-0.0936957448720932,0.01935153640806675,0.05048318952322006,0.025672823190689087,-0.052808068692684174,0.0367446132004261,-0.017081785947084427,0.04198899492621422,0.06099291890859604,0.02313954569399357,0.007951025851070881,0.06374216079711914,-0.010937115177512169,0.00347868911921978,0.08671586960554123,0.014997174963355064,-0.007875251583755016,-0.0620032399892807,0.03400557488203049,-0.044282395392656326,0.06142522767186165,0.0888276919722557,0.0026582826394587755,0.002070194808766246,0.0031580713111907244,0.018479816615581512,-0.002748786238953471,-0.033880818635225296,-0.00533371651545167,0.03997090458869934,0.0523265078663826,0.13330702483654022,0.08074486255645752,0.04342101514339447,-0.06736570596694946,-0.02038128487765789,-0.01334267295897007,0.07188534736633301,0.025470172986388206,-0.05464101582765579,-0.00890687108039856,-0.08943051844835281,0.10006405413150787,0.011434447020292282,0.017658673226833344,0.0014538186369463801,-0.04108055308461189,0.036952536553144455,-0.12266882508993149,-0.046568550169467926,0.06647412478923798,-0.08028233796358109,0.034759704023599625,-0.04404744505882263,-0.022664416581392288,0.023322705179452896,-0.05039932578802109,0.1327190101146698,0.03679449111223221,-0.040966566652059555,0.001299048075452447,0.018983371555805206,-0.0302891843020916,-0.006624765694141388,-2.7786267506470075e-33,-0.02121622860431671,-0.05009361356496811,0.016678398475050926,-0.01521577499806881,-0.07587278634309769,-0.02353091351687908,0.025034144520759583,0.03539643436670303,0.11132527887821198,0.01317739300429821,-0.004138621035963297,0.04774049296975136,-0.037118878215551376,-0.018147112801671028,-0.007532990071922541,-0.04421170428395271,-0.02823549322783947,0.009130687452852726,0.03317758068442345,0.10808631032705307,-0.03863772377371788,0.046188995242118835,-0.021605074405670166,-0.021666448563337326,0.021293822675943375,-0.0054625533521175385,-0.031618986278772354,0.01438411045819521,-0.0021663482766598463,0.07118610292673111,-0.01950893923640251,0.04597083106637001,-0.0529891699552536,0.07723455876111984,0.04237566143274307,-0.0439465269446373,-0.04463224112987518,0.05138278752565384,0.0915205255150795,0.017329247668385506,0.008695426397025585,-0.01248470414429903,-0.032509736716747284,-0.028260717168450356,0.023407774046063423,-0.03385508060455322,-0.11616683751344681,-0.008433095179498196,0.07993221282958984,0.00012152845738455653,-0.010836479254066944,0.014943604357540607,0.002703853417187929,-0.0887080579996109,-0.04235962778329849,-0.09348628669977188,-0.0041964068077504635,-0.06936747580766678,-0.04386020451784134,0.05195485055446625,-0.03084353730082512,0.052478160709142685,0.030667642131447792,-0.03792654722929001,-0.07242190837860107,-0.0595257505774498,0.0027636797167360783,-0.032657042145729065,0.01978624425828457,-0.028865162283182144,0.0309377983212471,-0.016202837228775024,0.014453763142228127,0.02269241027534008,-0.0218028761446476,-0.03161453828215599,0.06340712308883667,0.04783521592617035,0.06488651037216187,-0.0827481597661972,-0.06584247201681137,-0.01905827410519123,0.012967757880687714,0.021909140050411224,-0.029093237593770027,0.021785300225019455,0.0405433215200901,0.0804549977183342,0.012784174643456936,-0.043741315603256226,0.035449761897325516,0.07052694261074066,0.019350910559296608,0.020439565181732178,-0.0260615237057209,-3.6706581692791854e-33,-0.01795213110744953,-0.04110086336731911,0.029733145609498024,-0.005225858651101589,0.03249417990446091,0.008277079090476036,-0.05408591777086258,-0.11048930138349533,0.04686299338936806,0.039937037974596024,-0.016077909618616104,0.06448840349912643,0.06647711247205734,-0.06935907155275345,-0.06616345793008804,0.03685956448316574,0.06109257787466049,-0.026135550811886787,-0.021877402439713478,-0.03557031974196434,0.0024289139546453953,-0.038918834179639816,-0.04409472271800041,0.06202827766537666,-0.055396854877471924,0.03191826492547989,0.02791954018175602,-0.018787378445267677,-0.09702804684638977,0.045843325555324554,0.10349074751138687,0.08639664947986603,-0.05873175710439682,-0.04905671998858452,0.027060607448220253,0.02130368910729885,0.003811352653428912,-0.06295113265514374,0.012300537899136543,-0.007471580058336258,0.05216008797287941,-0.040676556527614594,-0.04402710124850273,-0.06201887130737305,0.0855797603726387,0.03174411505460739,0.018358269706368446,-0.03623392432928085,-0.0719745010137558,0.11736141890287399,0.028835855424404144,0.025577006861567497,-0.0027829294558614492,-0.0058133164420723915,0.04053531959652901,0.00432948861271143,-0.03617047518491745,0.01587449572980404,0.013251165859401226,-0.02378709428012371,0.0020140334963798523,-0.07064743340015411,0.13865260779857635,-0.05570881441235542]]}

        '
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '8060'
      Content-Type:
      - application/json
      Date:
      - Mon, 02 Jun 2025 04:24:10 GMT
      Server:
      - gunicorn
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on the provided document: ''Test Doc'' (ID: 1).\n\nThis document
      is described as:\n`USC Title 1 - Chapter 1`\n\nWhile a summary may be available,
      it''s crucial to leverage all your tools for a comprehensive understanding.
      You have access to a sophisticated vector search engine capable of finding semantically
      similar text to answer queries, alongside other specialized tools.\n\nAlways
      prioritize information retrieved directly from the document using these tools.
      Do not rely solely on the summary or your general knowledge. Strive to provide
      answers grounded in the document''s content, presented in clear and helpful
      markdown. Avoid repeating instructions or disclaimers."},{"role":"user","content":"Regarding
      US Code Title 1, what is the rule of construction for ''words importing the
      masculine gender''?"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yQX9CDAnMAZhjcBf29QTJS8M","function":{"arguments":"{\"input\":\"words
      importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yQX9CDAnMAZhjcBf29QTJS8M"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l","function":{"arguments":"{\"input\":\"masculine
      gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_aSUbAp2E8gvSn0wP8uqLlDDi","function":{"arguments":"{\"input\":\"rule
      of construction for words importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_aSUbAp2E8gvSn0wP8uqLlDDi"}],"model":"gpt-4o-mini","stream":true,"temperature":0.7,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"doc_engine","description":"Provides
      detailed annotations and text from within the ''Test Doc'' document.","parameters":{"properties":{"input":{"title":"Input","type":"string"}},"required":["input"],"type":"object"}}},{"type":"function","function":{"name":"load_document_md_summary","description":"load_document_md_summary(document_id:
      int, truncate_length: Optional[int] = None, from_start: bool = True) -> str\n\n    Load
      the content of a Document''s md_summary_file field.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        truncate_length: Optional number
      of characters to truncate. If provided,\n                        returns only
      that many characters\n        from_start: If True, return from the start up
      to truncate_length.\n                   Otherwise, return from the end\n\n    Returns:\n        A
      string containing the content of the md_summary_file (possibly truncated)\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"truncate_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Truncate
      Length"},"from_start":{"default":true,"title":"From Start","type":"boolean"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_md_summary_token_length","description":"get_md_summary_token_length(document_id:
      int) -> int\n\n    Calculate the approximate token length of a Document''s md_summary_file.\n    Uses
      a naive whitespace-based split for tokenization.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n\n    Returns:\n        An integer representing
      the approximate token count of the md_summary_file\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_notes_for_document_corpus","description":"get_notes_for_document_corpus(document_id:
      int, corpus_id: Optional[int] = None) -> list[dict[str, typing.Any]]\n\n    Retrieve
      all Note objects for a given document and (optionally) a specific corpus.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        corpus_id: The primary key (ID)
      of the Corpus, or None if unspecified\n\n    Returns:\n        A list of dictionaries,
      each containing Note data (content truncated to 512 chars):\n        [\n            {\n                \"id\":
      <note_id>,\n                \"title\": <title>,\n                \"content\":
      <content>,\n                \"creator_id\": <creator_id>,\n                \"created\":
      <created_datetime_iso>,\n                \"modified\": <modified_datetime_iso>,\n            },\n            ...\n        ]\n\n    Raises:\n        ValueError:
      If document doesn''t exist\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"corpus_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Corpus
      Id"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_note_content_token_length","description":"get_note_content_token_length(note_id:
      int) -> int\n\n    Calculate the approximate token length of a Note''s content
      using naive whitespace-based split.\n\n    Args:\n        note_id: The primary
      key (ID) of the Note\n\n    Returns:\n        An integer representing the approximate
      token count of the note''s content\n\n    Raises:\n        ValueError: If note
      doesn''t exist\n    ","parameters":{"properties":{"note_id":{"title":"Note Id","type":"integer"}},"required":["note_id"],"type":"object"}}},{"type":"function","function":{"name":"get_partial_note_content","description":"get_partial_note_content(note_id:
      int, start: int = 0, end: int = 500) -> str\n\n    Retrieve a substring of the
      note''s content from index ''start'' to index ''end''.\n\n    Args:\n        note_id:
      The primary key (ID) of the Note\n        start: The starting position for extraction\n        end:
      The position at which to stop before extraction (non-inclusive)\n\n    Returns:\n        A
      string representing the specified portion of the note''s content\n\n    Raises:\n        ValueError:
      If note doesn''t exist or invalid start/end indices\n    ","parameters":{"properties":{"note_id":{"title":"Note
      Id","type":"integer"},"start":{"default":0,"title":"Start","type":"integer"},"end":{"default":500,"title":"End","type":"integer"}},"required":["note_id"],"type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '6685'
      content-type:
      - application/json
      cookie:
      - __cf_bm=Bmd06HwyDvPorylLQOTsrjh41OJn0CbRkQbgKNu3vCg-1748838248-1.0.1.1-SEmeRTI.ikOAFWzGTtm79CcmOVVv3dWM3Q9Lwl_ZNVReUx1ViWCXe56W8HAoESIFUuzObQiZDijpCCtuYuKxLX_em5LRtEoSH83xFESdpK4;
        _cfuvid=Oj9gDbK3VpwTVDxB7beZCAUX4mG.0nivwXub1miuKQs-1748838248291-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.81.0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '60.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.10
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: 'data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_ZoWZ5ExJHZe5hxt8PE7yOm0G","type":"function","function":{"name":"load_document_md_summary","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"document"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_id"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"1"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"}"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0UbA5Xc7T9yWB71gJgxuNJFRA5","object":"chat.completion.chunk","created":1748838250,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}]}


        data: [DONE]


        '
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 94942dfa2ca87bb2-ATL
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Mon, 02 Jun 2025 04:24:11 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '603'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '611'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999756'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 3ms
      x-request-id:
      - req_c41c1d9d303475fed3e813a9e36babf8
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on the provided document: ''Test Doc'' (ID: 1).\n\nThis document
      is described as:\n`USC Title 1 - Chapter 1`\n\nWhile a summary may be available,
      it''s crucial to leverage all your tools for a comprehensive understanding.
      You have access to a sophisticated vector search engine capable of finding semantically
      similar text to answer queries, alongside other specialized tools.\n\nAlways
      prioritize information retrieved directly from the document using these tools.
      Do not rely solely on the summary or your general knowledge. Strive to provide
      answers grounded in the document''s content, presented in clear and helpful
      markdown. Avoid repeating instructions or disclaimers."},{"role":"user","content":"Regarding
      US Code Title 1, what is the rule of construction for ''words importing the
      masculine gender''?"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yQX9CDAnMAZhjcBf29QTJS8M","function":{"arguments":"{\"input\":\"words
      importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yQX9CDAnMAZhjcBf29QTJS8M"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l","function":{"arguments":"{\"input\":\"masculine
      gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_aSUbAp2E8gvSn0wP8uqLlDDi","function":{"arguments":"{\"input\":\"rule
      of construction for words importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_aSUbAp2E8gvSn0wP8uqLlDDi"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_ZoWZ5ExJHZe5hxt8PE7yOm0G","function":{"arguments":"{\"document_id\":1}","name":"load_document_md_summary"},"type":"function"}]},{"role":"tool","content":"#
      Summary for Document 1 (USC Title 1 - General Provisions)\n\nThis document is
      Title 1 of the United States Code, \"General Provisions,\" as enacted on July
      30, 1947. It establishes fundamental rules for the construction and interpretation
      of federal laws.\n\nKey topics covered:\n- **Chapter 1: Rules of Construction:**
      Defines how terms like singular/plural, gender, and tense should be interpreted
      in legislation. Provides standard definitions for \"person,\" \"company,\" \"vessel,\"
      \"vehicle,\" \"oath,\" and \"writing.\" Addresses the meaning of \"county.\"\n-
      **Chapter 2: Acts and Resolutions:** Outlines formalities for the enactment
      of laws, procedures for repeals, and the sealing of official instruments.\n-
      **Chapter 3: Code of Laws of the United States and Supplements:** Details regarding
      the official U.S. Code and its supplements, including the District of Columbia
      Code.\n\nThis title also includes provisions regarding \"products of American
      fisheries,\" definitions of \"marriage\" and \"spouse\" (as amended by the Respect
      for Marriage Act), and the inclusion of \"born-alive infants\" under terms like
      \"person\" and \"human being.\" It serves as a foundational text for understanding
      federal statutory language. ","name":"load_document_md_summary","tool_call_id":"call_ZoWZ5ExJHZe5hxt8PE7yOm0G"}],"model":"gpt-4o-mini","stream":true,"temperature":0.7,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"doc_engine","description":"Provides
      detailed annotations and text from within the ''Test Doc'' document.","parameters":{"properties":{"input":{"title":"Input","type":"string"}},"required":["input"],"type":"object"}}},{"type":"function","function":{"name":"load_document_md_summary","description":"load_document_md_summary(document_id:
      int, truncate_length: Optional[int] = None, from_start: bool = True) -> str\n\n    Load
      the content of a Document''s md_summary_file field.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        truncate_length: Optional number
      of characters to truncate. If provided,\n                        returns only
      that many characters\n        from_start: If True, return from the start up
      to truncate_length.\n                   Otherwise, return from the end\n\n    Returns:\n        A
      string containing the content of the md_summary_file (possibly truncated)\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"truncate_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Truncate
      Length"},"from_start":{"default":true,"title":"From Start","type":"boolean"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_md_summary_token_length","description":"get_md_summary_token_length(document_id:
      int) -> int\n\n    Calculate the approximate token length of a Document''s md_summary_file.\n    Uses
      a naive whitespace-based split for tokenization.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n\n    Returns:\n        An integer representing
      the approximate token count of the md_summary_file\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_notes_for_document_corpus","description":"get_notes_for_document_corpus(document_id:
      int, corpus_id: Optional[int] = None) -> list[dict[str, typing.Any]]\n\n    Retrieve
      all Note objects for a given document and (optionally) a specific corpus.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        corpus_id: The primary key (ID)
      of the Corpus, or None if unspecified\n\n    Returns:\n        A list of dictionaries,
      each containing Note data (content truncated to 512 chars):\n        [\n            {\n                \"id\":
      <note_id>,\n                \"title\": <title>,\n                \"content\":
      <content>,\n                \"creator_id\": <creator_id>,\n                \"created\":
      <created_datetime_iso>,\n                \"modified\": <modified_datetime_iso>,\n            },\n            ...\n        ]\n\n    Raises:\n        ValueError:
      If document doesn''t exist\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"corpus_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Corpus
      Id"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_note_content_token_length","description":"get_note_content_token_length(note_id:
      int) -> int\n\n    Calculate the approximate token length of a Note''s content
      using naive whitespace-based split.\n\n    Args:\n        note_id: The primary
      key (ID) of the Note\n\n    Returns:\n        An integer representing the approximate
      token count of the note''s content\n\n    Raises:\n        ValueError: If note
      doesn''t exist\n    ","parameters":{"properties":{"note_id":{"title":"Note Id","type":"integer"}},"required":["note_id"],"type":"object"}}},{"type":"function","function":{"name":"get_partial_note_content","description":"get_partial_note_content(note_id:
      int, start: int = 0, end: int = 500) -> str\n\n    Retrieve a substring of the
      note''s content from index ''start'' to index ''end''.\n\n    Args:\n        note_id:
      The primary key (ID) of the Note\n        start: The starting position for extraction\n        end:
      The position at which to stop before extraction (non-inclusive)\n\n    Returns:\n        A
      string representing the specified portion of the note''s content\n\n    Raises:\n        ValueError:
      If note doesn''t exist or invalid start/end indices\n    ","parameters":{"properties":{"note_id":{"title":"Note
      Id","type":"integer"},"start":{"default":0,"title":"Start","type":"integer"},"end":{"default":500,"title":"End","type":"integer"}},"required":["note_id"],"type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '8231'
      content-type:
      - application/json
      cookie:
      - __cf_bm=Bmd06HwyDvPorylLQOTsrjh41OJn0CbRkQbgKNu3vCg-1748838248-1.0.1.1-SEmeRTI.ikOAFWzGTtm79CcmOVVv3dWM3Q9Lwl_ZNVReUx1ViWCXe56W8HAoESIFUuzObQiZDijpCCtuYuKxLX_em5LRtEoSH83xFESdpK4;
        _cfuvid=Oj9gDbK3VpwTVDxB7beZCAUX4mG.0nivwXub1miuKQs-1748838248291-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.81.0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '60.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.10
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: 'data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_MWhYIlEzmP55KpuIk5IqkVfc","type":"function","function":{"name":"doc_engine","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"input"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"rules"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        of"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        construction"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0VUiJoxS05Vcbj6fjQDM8O7sSO","object":"chat.completion.chunk","created":1748838251,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_54eb4bd693","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}]}


        data: [DONE]


        '
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 94942dff78d77bb2-ATL
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Mon, 02 Jun 2025 04:24:12 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '601'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '606'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999454'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 8ms
      x-request-id:
      - req_57cef4264a4ca1ffd67fb84dfbdb69fb
    status:
      code: 200
      message: OK
- request:
    body: '{"text": "rules of construction"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
      X-API-Key:
      - abc123
    method: POST
    uri: http://vector-embedder:8000/embeddings
  response:
    body:
      string: '{"embeddings":[[-0.017270782962441444,0.048515938222408295,0.04111843556165695,-0.02219570241868496,-0.03415285050868988,-0.03648858889937401,-0.05461074411869049,-0.046435147523880005,0.020890960469841957,0.08255983889102936,0.009119861759245396,0.008611947298049927,-0.02128545008599758,-0.005611078813672066,0.041739869862794876,-0.05553848296403885,-0.0820380225777626,0.002699075033888221,-0.10838537663221359,0.0539972223341465,0.12294919043779373,-0.01970992609858513,-0.03200991824269295,0.036273300647735596,0.021800104528665543,-0.021294381469488144,-0.027253055945038795,0.04755859449505806,0.10928989201784134,-0.051831841468811035,-0.012033553794026375,-0.024874037131667137,0.0060780965723097324,-0.01844189502298832,-0.01642276719212532,0.03752579167485237,0.018299946561455727,-0.050016120076179504,-0.0250789113342762,0.031191013753414154,-0.04564666375517845,1.03930260593188e-05,0.04699135944247246,0.01668764278292656,0.01613340899348259,0.07975349575281143,0.06412237882614136,-0.047072604298591614,-0.0926818922162056,-0.036617547273635864,-0.05583367496728897,0.0386468879878521,-0.018944378942251205,0.009843640960752964,0.04590130224823952,0.02642989158630371,0.028275560587644577,-0.0023755317088216543,0.04176296293735504,-0.03217485919594765,0.07697448134422302,0.014402683824300766,-0.025892918929457664,-0.05938952788710594,0.07082659006118774,0.011268183588981628,-0.030179381370544434,0.07042203098535538,0.005155724473297596,0.0976942926645279,-0.007420837413519621,-0.00957560259848833,-0.03260387107729912,0.11380299925804138,0.02740461379289627,0.04518371820449829,0.0006044586771167815,0.08620177209377289,-0.05221427604556084,-0.06735537201166153,-0.045202504843473434,-0.029069626703858376,0.037737034261226654,0.01147667970508337,-0.031072793528437614,0.02225634641945362,0.07387539744377136,-0.01716506853699684,0.029023699462413788,0.028111305087804794,-0.0012883738381788135,-0.10177286714315414,-0.06419212371110916,0.017352232709527016,0.013080283999443054,-0.02039642259478569,-0.0467153899371624,-0.027633773162961006,0.058228880167007446,0.10983321815729141,-0.029902024194598198,0.01795990765094757,0.039036840200424194,-0.009463257156312466,0.00456261495128274,-0.0387268029153347,-0.10328397154808044,-0.013333494774997234,-0.03551262989640236,0.004408092703670263,0.03540058061480522,0.03160545974969864,0.013661953620612621,-0.043055303394794464,0.011229373514652252,-0.043176084756851196,-0.04219723120331764,0.020139869302511215,0.06429433077573776,-0.01064224075525999,0.06512508541345596,0.02124040387570858,-0.013898225501179695,0.007482288405299187,-0.025354716926813126,-0.10192188620567322,-0.041409801691770554,4.4634804140553355e-31,0.049924224615097046,-0.10741933435201645,-0.03240581601858139,0.028623487800359726,0.04949336498975754,-0.002426692983135581,0.006393164396286011,0.017354566603899002,0.0014487915905192494,0.052839115262031555,0.032243892550468445,-0.05841079354286194,-0.01601557806134224,0.02874874323606491,0.11390768736600876,-0.038092970848083496,0.009485992603003979,-0.05980340391397476,-0.06613285839557648,0.05424906685948372,-0.0012536898721009493,-0.027215786278247833,0.027578333392739296,0.000539905799087137,0.045846354216337204,-0.011606653220951557,0.042250875383615494,-0.033578671514987946,-0.12735289335250854,-0.005947423633188009,0.029752545058727264,-0.08211454004049301,0.03199385106563568,0.08423826843500137,-0.032314278185367584,-0.01242594514042139,0.03250642493367195,-0.02298683300614357,0.052302949130535126,-0.06953106820583344,0.024512436240911484,-0.03918290138244629,0.0006291592726483941,0.040023598819971085,0.032414622604846954,0.06017718091607094,-0.022331438958644867,0.006929147522896528,-0.08036796003580093,0.008112965151667595,0.01639835350215435,0.08117853105068207,0.09025034308433533,-0.044026024639606476,0.09102179110050201,-0.004836579784750938,0.009610976092517376,-0.047330841422080994,-0.02065948210656643,0.013906442560255527,-0.004617779515683651,0.09794211387634277,0.01559106819331646,0.0711035281419754,-0.10243342071771622,-0.01709839142858982,-0.054472897201776505,-0.022167982533574104,0.13267123699188232,-0.1432742476463318,-0.01649191416800022,0.001587130594998598,-0.1136113777756691,0.09324321895837784,0.0075973402708768845,-0.03768135979771614,-0.07928802818059921,-0.006134592927992344,0.004533738363534212,-0.07448992133140564,-0.04598821699619293,0.09703703969717026,0.001268180669285357,0.011092289350926876,-0.00013283455336932093,-0.0480525977909565,0.04951847344636917,0.002682174788787961,-0.013162015937268734,0.015954289585351944,-0.08492812514305115,-0.06672777235507965,0.08416381478309631,0.030294269323349,0.1014929935336113,-2.5137265272953126e-33,0.01794019341468811,0.0008231467800214887,-0.067376047372818,-0.06031092256307602,-0.06805302202701569,-0.04821569845080376,-0.08880871534347534,-0.14115722477436066,0.004563821014016867,-0.0009524820488877594,-0.06576758623123169,0.0012983795022591949,0.019765984266996384,-0.03566053509712219,-0.04108230769634247,-0.06511455774307251,-0.007718748413026333,-0.08438371121883392,0.05330399423837662,0.046439144760370255,0.03887525945901871,-0.015986548736691475,-0.029989901930093765,-0.021287869662046432,0.00985539611428976,-0.06398144364356995,-0.08769872039556503,-0.041160695254802704,-0.00284065050072968,0.07166628539562225,-0.06844522058963776,-0.07718859612941742,0.036567848175764084,0.0928543359041214,-0.01130767073482275,-0.05410949885845184,0.006820189766585827,0.08815483748912811,0.05143118277192116,-0.029253952205181122,0.03483066335320473,0.051478832960128784,0.0836276188492775,-0.005296293646097183,-0.006327988114207983,-0.0383230559527874,0.0328177884221077,-0.03978559002280235,-0.034776926040649414,-0.06346122175455093,-0.03647821396589279,-0.04532966390252113,0.051188334822654724,-0.07942774146795273,-0.05673157051205635,0.0030954701360315084,-0.02598428912460804,-0.04287882521748543,0.04962758347392082,0.010178450495004654,0.01716587319970131,0.07542430609464645,0.07990209013223648,0.029603702947497368,0.006117422599345446,-0.005512569565325975,-0.05179901421070099,0.017926299944519997,0.026051437482237816,0.006280684377998114,-0.11830850690603256,-0.023044200614094734,-0.13821913301944733,0.011305062100291252,-0.014601189643144608,0.019249478355050087,0.0062069036066532135,0.061698708683252335,-0.028138475492596626,0.0043903375044465065,0.005271174944937229,0.0530841201543808,-0.041510239243507385,0.06273763626813889,-0.007236722856760025,-0.011821109801530838,0.07506296783685684,0.020264456048607826,-0.027019767090678215,0.037923987954854965,0.06673409789800644,0.04468933865427971,0.048310380429029465,0.009271607734262943,-0.042246263474226,-2.3537127261316134e-33,-0.05662379413843155,-0.014693419449031353,0.005859950091689825,-0.032384373247623444,0.020140890032052994,-0.020964043214917183,0.03984067589044571,-0.07503125071525574,0.03231772780418396,0.022717636078596115,0.035035643726587296,0.04947774112224579,-0.00803828053176403,0.045409608632326126,-0.09901314973831177,-0.02107747457921505,0.01676674373447895,-0.024342665448784828,-0.042524877935647964,0.030842304229736328,-0.008533584885299206,-0.034791409969329834,-0.005677114240825176,0.049421217292547226,-0.004142992664128542,0.011318644508719444,0.04295741021633148,-0.0625244751572609,0.018429338932037354,0.17334866523742676,0.09343411773443222,0.10912822186946869,0.0141233429312706,0.0533963106572628,0.015565335750579834,-0.06275971233844757,-0.029913129284977913,0.019494878128170967,0.03862098976969719,-0.022068215534090996,-0.0022896653972566128,0.005271045956760645,0.011761074885725975,-0.025223921984434128,0.08848216384649277,0.001733883866108954,-0.0790303647518158,-0.03646214306354523,-0.11407256871461868,-0.01675979048013687,-0.008301754482090473,0.004478747025132179,-0.007978924550116062,-0.0008505048463121057,0.029269004240632057,0.04603159427642822,-0.011383800767362118,0.055981263518333435,0.11644064635038376,-0.0705375149846077,-0.07012888044118881,0.04322170466184616,0.06780944019556046,0.018345313146710396]]}

        '
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '8069'
      Content-Type:
      - application/json
      Date:
      - Mon, 02 Jun 2025 04:24:12 GMT
      Server:
      - gunicorn
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on the provided document: ''Test Doc'' (ID: 1).\n\nThis document
      is described as:\n`USC Title 1 - Chapter 1`\n\nWhile a summary may be available,
      it''s crucial to leverage all your tools for a comprehensive understanding.
      You have access to a sophisticated vector search engine capable of finding semantically
      similar text to answer queries, alongside other specialized tools.\n\nAlways
      prioritize information retrieved directly from the document using these tools.
      Do not rely solely on the summary or your general knowledge. Strive to provide
      answers grounded in the document''s content, presented in clear and helpful
      markdown. Avoid repeating instructions or disclaimers."},{"role":"user","content":"Regarding
      US Code Title 1, what is the rule of construction for ''words importing the
      masculine gender''?"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yQX9CDAnMAZhjcBf29QTJS8M","function":{"arguments":"{\"input\":\"words
      importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yQX9CDAnMAZhjcBf29QTJS8M"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l","function":{"arguments":"{\"input\":\"masculine
      gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_aSUbAp2E8gvSn0wP8uqLlDDi","function":{"arguments":"{\"input\":\"rule
      of construction for words importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_aSUbAp2E8gvSn0wP8uqLlDDi"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_ZoWZ5ExJHZe5hxt8PE7yOm0G","function":{"arguments":"{\"document_id\":1}","name":"load_document_md_summary"},"type":"function"}]},{"role":"tool","content":"#
      Summary for Document 1 (USC Title 1 - General Provisions)\n\nThis document is
      Title 1 of the United States Code, \"General Provisions,\" as enacted on July
      30, 1947. It establishes fundamental rules for the construction and interpretation
      of federal laws.\n\nKey topics covered:\n- **Chapter 1: Rules of Construction:**
      Defines how terms like singular/plural, gender, and tense should be interpreted
      in legislation. Provides standard definitions for \"person,\" \"company,\" \"vessel,\"
      \"vehicle,\" \"oath,\" and \"writing.\" Addresses the meaning of \"county.\"\n-
      **Chapter 2: Acts and Resolutions:** Outlines formalities for the enactment
      of laws, procedures for repeals, and the sealing of official instruments.\n-
      **Chapter 3: Code of Laws of the United States and Supplements:** Details regarding
      the official U.S. Code and its supplements, including the District of Columbia
      Code.\n\nThis title also includes provisions regarding \"products of American
      fisheries,\" definitions of \"marriage\" and \"spouse\" (as amended by the Respect
      for Marriage Act), and the inclusion of \"born-alive infants\" under terms like
      \"person\" and \"human being.\" It serves as a foundational text for understanding
      federal statutory language. ","name":"load_document_md_summary","tool_call_id":"call_ZoWZ5ExJHZe5hxt8PE7yOm0G"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_MWhYIlEzmP55KpuIk5IqkVfc","function":{"arguments":"{\"input\":\"rules
      of construction\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_MWhYIlEzmP55KpuIk5IqkVfc"}],"model":"gpt-4o-mini","stream":true,"temperature":0.7,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"doc_engine","description":"Provides
      detailed annotations and text from within the ''Test Doc'' document.","parameters":{"properties":{"input":{"title":"Input","type":"string"}},"required":["input"],"type":"object"}}},{"type":"function","function":{"name":"load_document_md_summary","description":"load_document_md_summary(document_id:
      int, truncate_length: Optional[int] = None, from_start: bool = True) -> str\n\n    Load
      the content of a Document''s md_summary_file field.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        truncate_length: Optional number
      of characters to truncate. If provided,\n                        returns only
      that many characters\n        from_start: If True, return from the start up
      to truncate_length.\n                   Otherwise, return from the end\n\n    Returns:\n        A
      string containing the content of the md_summary_file (possibly truncated)\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"truncate_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Truncate
      Length"},"from_start":{"default":true,"title":"From Start","type":"boolean"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_md_summary_token_length","description":"get_md_summary_token_length(document_id:
      int) -> int\n\n    Calculate the approximate token length of a Document''s md_summary_file.\n    Uses
      a naive whitespace-based split for tokenization.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n\n    Returns:\n        An integer representing
      the approximate token count of the md_summary_file\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_notes_for_document_corpus","description":"get_notes_for_document_corpus(document_id:
      int, corpus_id: Optional[int] = None) -> list[dict[str, typing.Any]]\n\n    Retrieve
      all Note objects for a given document and (optionally) a specific corpus.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        corpus_id: The primary key (ID)
      of the Corpus, or None if unspecified\n\n    Returns:\n        A list of dictionaries,
      each containing Note data (content truncated to 512 chars):\n        [\n            {\n                \"id\":
      <note_id>,\n                \"title\": <title>,\n                \"content\":
      <content>,\n                \"creator_id\": <creator_id>,\n                \"created\":
      <created_datetime_iso>,\n                \"modified\": <modified_datetime_iso>,\n            },\n            ...\n        ]\n\n    Raises:\n        ValueError:
      If document doesn''t exist\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"corpus_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Corpus
      Id"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_note_content_token_length","description":"get_note_content_token_length(note_id:
      int) -> int\n\n    Calculate the approximate token length of a Note''s content
      using naive whitespace-based split.\n\n    Args:\n        note_id: The primary
      key (ID) of the Note\n\n    Returns:\n        An integer representing the approximate
      token count of the note''s content\n\n    Raises:\n        ValueError: If note
      doesn''t exist\n    ","parameters":{"properties":{"note_id":{"title":"Note Id","type":"integer"}},"required":["note_id"],"type":"object"}}},{"type":"function","function":{"name":"get_partial_note_content","description":"get_partial_note_content(note_id:
      int, start: int = 0, end: int = 500) -> str\n\n    Retrieve a substring of the
      note''s content from index ''start'' to index ''end''.\n\n    Args:\n        note_id:
      The primary key (ID) of the Note\n        start: The starting position for extraction\n        end:
      The position at which to stop before extraction (non-inclusive)\n\n    Returns:\n        A
      string representing the specified portion of the note''s content\n\n    Raises:\n        ValueError:
      If note doesn''t exist or invalid start/end indices\n    ","parameters":{"properties":{"note_id":{"title":"Note
      Id","type":"integer"},"start":{"default":0,"title":"Start","type":"integer"},"end":{"default":500,"title":"End","type":"integer"}},"required":["note_id"],"type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '8544'
      content-type:
      - application/json
      cookie:
      - __cf_bm=Bmd06HwyDvPorylLQOTsrjh41OJn0CbRkQbgKNu3vCg-1748838248-1.0.1.1-SEmeRTI.ikOAFWzGTtm79CcmOVVv3dWM3Q9Lwl_ZNVReUx1ViWCXe56W8HAoESIFUuzObQiZDijpCCtuYuKxLX_em5LRtEoSH83xFESdpK4;
        _cfuvid=Oj9gDbK3VpwTVDxB7beZCAUX4mG.0nivwXub1miuKQs-1748838248291-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.81.0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '60.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.10
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: 'data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_HQtxnsCMcDWUbEYlpwlSlXBv","type":"function","function":{"name":"doc_engine","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"input"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"gender"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        in"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        construction"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        rules"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0WBBeGoSt6lSRuikwRKBh6rUu2","object":"chat.completion.chunk","created":1748838252,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}]}


        data: [DONE]


        '
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 94942e064e077bb2-ATL
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Mon, 02 Jun 2025 04:24:13 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '495'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '497'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999448'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 8ms
      x-request-id:
      - req_a1b699b20a3195dd1014b920b7941442
    status:
      code: 200
      message: OK
- request:
    body: '{"text": "gender in construction rules"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '40'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
      X-API-Key:
      - abc123
    method: POST
    uri: http://vector-embedder:8000/embeddings
  response:
    body:
      string: '{"embeddings":[[0.03358358144760132,0.0932234600186348,0.03578706085681915,-0.030615665018558502,-0.10150335729122162,-0.004867564886808395,-0.053843483328819275,-0.08514120429754257,0.02498263120651245,0.059596773236989975,0.03950946778059006,-0.03349413722753525,-0.06920850276947021,0.016605643555521965,0.060530293732881546,-0.008905038237571716,-0.04501274228096008,-0.01264226995408535,-0.023987462744116783,0.09450123459100723,0.06511671096086502,-0.05893086642026901,0.034215208142995834,-0.03881610184907913,-0.0350545272231102,-0.13904942572116852,-0.013588476926088333,0.025415999814867973,0.06211134046316147,-0.03533129021525383,-0.05145128071308136,0.043595362454652786,0.05082264915108681,-0.019791509956121445,-0.03705152869224548,0.02556419186294079,0.03340526297688484,-0.0575191006064415,-0.009704486466944218,0.11017514020204544,-0.0647151917219162,-0.07641752809286118,0.033310096710920334,0.030953161418437958,-0.0011121954303234816,0.09705013781785965,0.029196258634328842,-0.017734866589307785,-0.1001783087849617,-0.032833609730005264,0.002468507969751954,0.01994703710079193,-0.022448154166340828,0.08338956534862518,0.0011475728824734688,0.00637391023337841,-0.010139665566384792,-0.047650158405303955,0.04083414003252983,0.01101392600685358,-0.012712277472019196,0.043313756585121155,9.533447882859036e-05,-0.03666580840945244,0.0698915347456932,0.012308473698794842,-0.03135404735803604,-0.00448397733271122,-0.010180714540183544,0.01652912236750126,0.06250111758708954,0.05664043128490448,-0.06659138202667236,0.10184302926063538,0.07117944210767746,0.08546562492847443,0.03311125561594963,0.03901379182934761,-0.010643254034221172,-0.0776963010430336,-0.07850126177072525,-0.08203183114528656,0.07075566798448563,0.03653585538268089,0.026816269382834435,0.0016688872128725052,0.031681716442108154,0.01640482060611248,-0.051952868700027466,0.07118625193834305,-0.1250917613506317,-0.049482833594083786,0.015093544498085976,-0.0027779426891356707,0.01885421946644783,0.018359053879976273,-0.06565455347299576,-0.040899161249399185,-0.005563598591834307,0.06575247645378113,-0.008459777571260929,0.03825714439153671,0.013039209879934788,0.02927013859152794,-0.01538154948502779,-0.02468048222362995,-0.06322339922189713,-0.013075622729957104,-0.05620310455560684,-0.0367850698530674,-0.029037808999419212,0.007404228672385216,-0.01545313186943531,-0.025343194603919983,0.030411554500460625,-0.05106930062174797,0.01051920186728239,0.05033859238028526,0.08404728770256042,0.010366654023528099,-0.004269937984645367,-0.05266296863555908,-0.05211934074759483,-0.008014035411179066,0.01529028732329607,-0.0350215882062912,-0.06977268308401108,6.075890028355096e-31,0.0461818091571331,-0.11686168611049652,0.022277873009443283,0.00028605543775483966,0.05068327113986015,0.02380150929093361,0.062086157500743866,-0.06617056578397751,0.024574773386120796,-0.027473175898194313,0.016000589355826378,-0.12837551534175873,-0.018122397363185883,-0.043886154890060425,0.10762956738471985,-0.009273269213736057,0.04331427067518234,-0.010455654934048653,-0.1168610155582428,0.08365140855312347,0.04861921817064285,0.03602520376443863,-0.009696255438029766,0.04608440026640892,0.020514333620667458,-0.029819222167134285,0.039916254580020905,-0.011484958231449127,-0.08304579555988312,-0.005057990550994873,-0.019278595224022865,-0.0919501930475235,0.058756861835718155,0.0766458585858345,-0.024368513375520706,-0.042296797037124634,0.059440601617097855,0.0024976078420877457,0.02671649679541588,0.03266867622733116,0.023868070915341377,-0.046391598880290985,0.012418171390891075,0.012760029174387455,-0.05626782774925232,0.05123427137732506,0.05991654843091965,-0.010770726948976517,-0.07582850009202957,0.05211995914578438,-0.055067870765924454,0.12827223539352417,0.06482803821563721,-0.021046483889222145,0.064574234187603,0.0005920750554651022,0.0032090258318930864,-0.02412012778222561,-0.041047994047403336,-0.03821689262986183,0.026921769604086876,0.07441149652004242,0.07740236073732376,0.014038605615496635,-0.059850845485925674,-0.06535373628139496,0.04238685965538025,-0.0699806734919548,0.11093872040510178,-0.07523170858621597,-0.018912047147750854,0.03533182665705681,-0.06131155043840408,0.07652304321527481,0.008311210200190544,-0.009916158393025398,-0.024926748126745224,-0.010499401949346066,0.07478984445333481,-0.1287624090909958,0.023315034806728363,0.11860118806362152,-0.01648443564772606,0.022023959085345268,-0.023913225159049034,-0.06924578547477722,0.02235136739909649,0.032786235213279724,0.046046700328588486,0.050378892570734024,-0.016161231324076653,-0.013044080697000027,0.028281478211283684,0.0029140450060367584,0.0503120981156826,-2.4784143096546265e-33,-0.03553922101855278,-0.06085863336920738,-0.049203433096408844,-0.08730635792016983,-0.04703527316451073,-0.07797005027532578,-0.01712517812848091,-0.11704117059707642,0.05307626351714134,0.04430936276912689,0.02225928194820881,-0.014083580113947392,-0.022646134719252586,-0.013333362527191639,-0.055187124758958817,-0.06027748063206673,-0.036954429000616074,-0.06358782947063446,0.02715553157031536,0.08810991048812866,-0.004621134139597416,0.06681753695011139,-0.02528207376599312,-0.0198384877294302,0.009721272625029087,-0.029136113822460175,-0.025732534006237984,0.0016615571221336722,0.02626665309071541,0.07772692292928696,-0.08381157368421555,-0.05181456357240677,-0.0462634302675724,0.07893611490726471,0.05206509679555893,-0.12131742388010025,-0.04928212612867355,0.04671628400683403,0.12195679545402527,0.003278399119153619,0.025950180366635323,0.051921453326940536,0.01907280832529068,0.004567472264170647,0.021238895133137703,-0.022622765973210335,0.02225838415324688,-0.019313234835863113,0.030840547755360603,-0.05652167648077011,-0.08146080374717712,0.010593230836093426,0.04522092640399933,-0.09232985973358154,-0.050527967512607574,-0.11075747013092041,-0.06143023818731308,-0.028388073667883873,0.011421860195696354,0.10420023649930954,0.007296500261873007,0.06980310380458832,0.10881321132183075,-0.009174664504826069,-0.05033143609762192,-0.06032954528927803,-0.01531332079321146,-0.03784533962607384,-0.006817183922976255,0.04639127105474472,-0.009964516386389732,-0.039935678243637085,-0.05500918626785278,0.06003716215491295,-0.004844691604375839,-0.04670526832342148,0.04365367814898491,0.03782283514738083,0.016082806512713432,-0.03639097884297371,-0.03718908503651619,0.018100915476679802,0.01095337513834238,0.0619792565703392,-0.04681035503745079,0.01885831356048584,0.049066610634326935,0.09913668036460876,-0.005191151984035969,0.006562594790011644,0.033478640019893646,0.0689028948545456,0.006901536136865616,-0.0157234538346529,-0.030974846333265305,-1.7259462128887095e-33,-0.01669081673026085,-0.02507592923939228,-0.02280878834426403,-0.04987740516662598,0.03702988848090172,0.026007317006587982,0.025862032547593117,-0.12940864264965057,0.01804395392537117,0.051319606602191925,0.023778671398758888,0.003825177438557148,0.05690832436084747,-0.010847889818251133,-0.040884505957365036,-0.013268287293612957,0.026173412799835205,-0.024415593594312668,-0.031183555722236633,0.006063561420887709,0.011154523119330406,-0.091652050614357,-0.044386956840753555,0.06157620996236801,-0.04708334431052208,0.00856251921504736,0.03746534511446953,-0.01473140623420477,-0.08196045458316803,0.08856135606765747,0.08572086691856384,0.08968601375818253,-0.018458452075719833,-0.051274076104164124,0.029822366312146187,-0.0023166548926383257,-0.004083010833710432,0.018390415236353874,0.021557854488492012,-0.01457954104989767,0.032722920179367065,-0.03354904428124428,-0.03228701278567314,-0.03573087602853775,0.060813624411821365,0.03156789764761925,-0.00899451319128275,-0.030352331697940826,-0.10765588283538818,0.07106810808181763,0.016314564272761345,-0.04617232456803322,-0.009943927638232708,0.007553889881819487,0.05430668964982033,0.015899518504738808,-0.011920176446437836,0.04343346506357193,0.06826640665531158,0.011508133262395859,-0.03244633227586746,-0.018615081906318665,0.06596943736076355,-0.028710681945085526]]}

        '
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '8056'
      Content-Type:
      - application/json
      Date:
      - Mon, 02 Jun 2025 04:24:13 GMT
      Server:
      - gunicorn
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"You are an expert assistant for
      document analysis and interpretation. Your primary goal is to answer questions
      accurately based on the provided document: ''Test Doc'' (ID: 1).\n\nThis document
      is described as:\n`USC Title 1 - Chapter 1`\n\nWhile a summary may be available,
      it''s crucial to leverage all your tools for a comprehensive understanding.
      You have access to a sophisticated vector search engine capable of finding semantically
      similar text to answer queries, alongside other specialized tools.\n\nAlways
      prioritize information retrieved directly from the document using these tools.
      Do not rely solely on the summary or your general knowledge. Strive to provide
      answers grounded in the document''s content, presented in clear and helpful
      markdown. Avoid repeating instructions or disclaimers."},{"role":"user","content":"Regarding
      US Code Title 1, what is the rule of construction for ''words importing the
      masculine gender''?"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yQX9CDAnMAZhjcBf29QTJS8M","function":{"arguments":"{\"input\":\"words
      importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yQX9CDAnMAZhjcBf29QTJS8M"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l","function":{"arguments":"{\"input\":\"masculine
      gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_yFJ3lwpUZ6hy0pFzqSrJCe0l"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_aSUbAp2E8gvSn0wP8uqLlDDi","function":{"arguments":"{\"input\":\"rule
      of construction for words importing the masculine gender\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_aSUbAp2E8gvSn0wP8uqLlDDi"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_ZoWZ5ExJHZe5hxt8PE7yOm0G","function":{"arguments":"{\"document_id\":1}","name":"load_document_md_summary"},"type":"function"}]},{"role":"tool","content":"#
      Summary for Document 1 (USC Title 1 - General Provisions)\n\nThis document is
      Title 1 of the United States Code, \"General Provisions,\" as enacted on July
      30, 1947. It establishes fundamental rules for the construction and interpretation
      of federal laws.\n\nKey topics covered:\n- **Chapter 1: Rules of Construction:**
      Defines how terms like singular/plural, gender, and tense should be interpreted
      in legislation. Provides standard definitions for \"person,\" \"company,\" \"vessel,\"
      \"vehicle,\" \"oath,\" and \"writing.\" Addresses the meaning of \"county.\"\n-
      **Chapter 2: Acts and Resolutions:** Outlines formalities for the enactment
      of laws, procedures for repeals, and the sealing of official instruments.\n-
      **Chapter 3: Code of Laws of the United States and Supplements:** Details regarding
      the official U.S. Code and its supplements, including the District of Columbia
      Code.\n\nThis title also includes provisions regarding \"products of American
      fisheries,\" definitions of \"marriage\" and \"spouse\" (as amended by the Respect
      for Marriage Act), and the inclusion of \"born-alive infants\" under terms like
      \"person\" and \"human being.\" It serves as a foundational text for understanding
      federal statutory language. ","name":"load_document_md_summary","tool_call_id":"call_ZoWZ5ExJHZe5hxt8PE7yOm0G"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_MWhYIlEzmP55KpuIk5IqkVfc","function":{"arguments":"{\"input\":\"rules
      of construction\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_MWhYIlEzmP55KpuIk5IqkVfc"},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_HQtxnsCMcDWUbEYlpwlSlXBv","function":{"arguments":"{\"input\":\"gender
      in construction rules\"}","name":"doc_engine"},"type":"function"}]},{"role":"tool","content":"Empty
      Response","name":"doc_engine","tool_call_id":"call_HQtxnsCMcDWUbEYlpwlSlXBv"}],"model":"gpt-4o-mini","stream":true,"temperature":0.7,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"doc_engine","description":"Provides
      detailed annotations and text from within the ''Test Doc'' document.","parameters":{"properties":{"input":{"title":"Input","type":"string"}},"required":["input"],"type":"object"}}},{"type":"function","function":{"name":"load_document_md_summary","description":"load_document_md_summary(document_id:
      int, truncate_length: Optional[int] = None, from_start: bool = True) -> str\n\n    Load
      the content of a Document''s md_summary_file field.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        truncate_length: Optional number
      of characters to truncate. If provided,\n                        returns only
      that many characters\n        from_start: If True, return from the start up
      to truncate_length.\n                   Otherwise, return from the end\n\n    Returns:\n        A
      string containing the content of the md_summary_file (possibly truncated)\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"truncate_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Truncate
      Length"},"from_start":{"default":true,"title":"From Start","type":"boolean"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_md_summary_token_length","description":"get_md_summary_token_length(document_id:
      int) -> int\n\n    Calculate the approximate token length of a Document''s md_summary_file.\n    Uses
      a naive whitespace-based split for tokenization.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n\n    Returns:\n        An integer representing
      the approximate token count of the md_summary_file\n\n    Raises:\n        ValueError:
      If document doesn''t exist or has no md_summary_file\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_notes_for_document_corpus","description":"get_notes_for_document_corpus(document_id:
      int, corpus_id: Optional[int] = None) -> list[dict[str, typing.Any]]\n\n    Retrieve
      all Note objects for a given document and (optionally) a specific corpus.\n\n    Args:\n        document_id:
      The primary key (ID) of the Document\n        corpus_id: The primary key (ID)
      of the Corpus, or None if unspecified\n\n    Returns:\n        A list of dictionaries,
      each containing Note data (content truncated to 512 chars):\n        [\n            {\n                \"id\":
      <note_id>,\n                \"title\": <title>,\n                \"content\":
      <content>,\n                \"creator_id\": <creator_id>,\n                \"created\":
      <created_datetime_iso>,\n                \"modified\": <modified_datetime_iso>,\n            },\n            ...\n        ]\n\n    Raises:\n        ValueError:
      If document doesn''t exist\n    ","parameters":{"properties":{"document_id":{"title":"Document
      Id","type":"integer"},"corpus_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":null,"title":"Corpus
      Id"}},"required":["document_id"],"type":"object"}}},{"type":"function","function":{"name":"get_note_content_token_length","description":"get_note_content_token_length(note_id:
      int) -> int\n\n    Calculate the approximate token length of a Note''s content
      using naive whitespace-based split.\n\n    Args:\n        note_id: The primary
      key (ID) of the Note\n\n    Returns:\n        An integer representing the approximate
      token count of the note''s content\n\n    Raises:\n        ValueError: If note
      doesn''t exist\n    ","parameters":{"properties":{"note_id":{"title":"Note Id","type":"integer"}},"required":["note_id"],"type":"object"}}},{"type":"function","function":{"name":"get_partial_note_content","description":"get_partial_note_content(note_id:
      int, start: int = 0, end: int = 500) -> str\n\n    Retrieve a substring of the
      note''s content from index ''start'' to index ''end''.\n\n    Args:\n        note_id:
      The primary key (ID) of the Note\n        start: The starting position for extraction\n        end:
      The position at which to stop before extraction (non-inclusive)\n\n    Returns:\n        A
      string representing the specified portion of the note''s content\n\n    Raises:\n        ValueError:
      If note doesn''t exist or invalid start/end indices\n    ","parameters":{"properties":{"note_id":{"title":"Note
      Id","type":"integer"},"start":{"default":0,"title":"Start","type":"integer"},"end":{"default":500,"title":"End","type":"integer"}},"required":["note_id"],"type":"object"}}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '8864'
      content-type:
      - application/json
      cookie:
      - __cf_bm=Bmd06HwyDvPorylLQOTsrjh41OJn0CbRkQbgKNu3vCg-1748838248-1.0.1.1-SEmeRTI.ikOAFWzGTtm79CcmOVVv3dWM3Q9Lwl_ZNVReUx1ViWCXe56W8HAoESIFUuzObQiZDijpCCtuYuKxLX_em5LRtEoSH83xFESdpK4;
        _cfuvid=Oj9gDbK3VpwTVDxB7beZCAUX4mG.0nivwXub1miuKQs-1748838248291-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.81.0
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 1.81.0
      x-stainless-read-timeout:
      - '60.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.10
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: 'data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_r0aDh3aq2LdEuZB5TTiERDyH","type":"function","function":{"name":"doc_engine","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"input"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"sexual"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        gender"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        masculine"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"
        feminine"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"logprobs":null,"finish_reason":null}]}


        data: {"id":"chatcmpl-Bdr0XV4NWjA5baUjcBfS14qDamz0I","object":"chat.completion.chunk","created":1748838253,"model":"gpt-4o-mini-2024-07-18","service_tier":"default","system_fingerprint":"fp_34a54ae93c","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}]}


        data: [DONE]


        '
    headers:
      CF-RAY:
      - 94942e0b79b17bb2-ATL
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Mon, 02 Jun 2025 04:24:14 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - user-54labie7aicgek5urzpgydpm
      openai-processing-ms:
      - '514'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '517'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '4000000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '3999443'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 8ms
      x-request-id:
      - req_d57575d0848b4d6a39c6d6ab32847d38
    status:
      code: 200
      message: OK
version: 1
